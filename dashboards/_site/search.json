[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Timepoint Dashboard",
    "section": "",
    "text": "Timepoint-Daedalus is a temporal knowledge graph system that generates LLM-driven entity simulations with queryable, causally-linked timepoints.\n\n\n\nNatural Language ‚Üí Simulation: Convert plain English descriptions into executable simulations\nAdaptive Fidelity: 95% cost reduction via tensor compression (5 fidelity levels)\nModal Temporal Causality: 6 temporal modes including PORTAL (backward temporal reasoning)\nAutomated Exports: MD/JSON/PDF narrative summaries + Fountain screenplays\nFault Tolerance: Circuit breaker, checkpointing, health monitoring"
  },
  {
    "objectID": "about.html#what-is-timepoint",
    "href": "about.html#what-is-timepoint",
    "title": "About Timepoint Dashboard",
    "section": "",
    "text": "Timepoint-Daedalus is a temporal knowledge graph system that generates LLM-driven entity simulations with queryable, causally-linked timepoints.\n\n\n\nNatural Language ‚Üí Simulation: Convert plain English descriptions into executable simulations\nAdaptive Fidelity: 95% cost reduction via tensor compression (5 fidelity levels)\nModal Temporal Causality: 6 temporal modes including PORTAL (backward temporal reasoning)\nAutomated Exports: MD/JSON/PDF narrative summaries + Fountain screenplays\nFault Tolerance: Circuit breaker, checkpointing, health monitoring"
  },
  {
    "objectID": "about.html#dashboard-features",
    "href": "about.html#dashboard-features",
    "title": "About Timepoint Dashboard",
    "section": "Dashboard Features",
    "text": "Dashboard Features\n\nImplemented\n\nRun Selector: Browse and load recent simulation runs\nMetadata Display: View run statistics, costs, and timing\nTimeline Visualization: Interactive chronological navigation with vis-timeline\nNetwork Graph: Entity relationship visualization with Cytoscape.js\nMechanism Coverage: Radar chart showing which mechanisms were used\n\n\n\nComing Soon\n\nPORTAL Mode Visualization: Backward causality paths with pivot points\nRun Comparison: Side-by-side analysis of multiple simulations\nFountain Viewer: Embedded screenplay reader\nSearch & Filter: Full-text search and timepoint filtering\nExport Tools: PNG/SVG exports and PDF reports"
  },
  {
    "objectID": "about.html#technical-stack",
    "href": "about.html#technical-stack",
    "title": "About Timepoint Dashboard",
    "section": "Technical Stack",
    "text": "Technical Stack\n\nFramework: Quarto (Observable JS + Python integration)\nVisualizations:\n\nvis-timeline for chronological navigation\nCytoscape.js for network graphs\nECharts for charts and metrics\n\nData: SQLite database + JSON narrative exports\nStyling: Custom CSS with glassmorphism and gradient effects"
  },
  {
    "objectID": "about.html#usage",
    "href": "about.html#usage",
    "title": "About Timepoint Dashboard",
    "section": "Usage",
    "text": "Usage\n# Install Quarto (if not already installed)\nbrew install quarto\n# or\nsudo installer -pkg quarto-1.4.549-macos.pkg -target /\n\n# Render dashboard\ncd dashboards\nquarto render\n\n# Preview with live reload\nquarto preview"
  },
  {
    "objectID": "about.html#data-sources",
    "href": "about.html#data-sources",
    "title": "About Timepoint Dashboard",
    "section": "Data Sources",
    "text": "Data Sources\nThe dashboard loads data from:\n\nSQLite Database: metadata/runs.db - run metadata and metrics\nNarrative JSON: datasets/{template}/narrative_*.json - full simulation data\nFountain Screenplays: datasets/{template}/screenplay_*.fountain - screenplay exports"
  },
  {
    "objectID": "about.html#architecture",
    "href": "about.html#architecture",
    "title": "About Timepoint Dashboard",
    "section": "Architecture",
    "text": "Architecture\ndashboards/\n‚îú‚îÄ‚îÄ _quarto.yml          # Project configuration\n‚îú‚îÄ‚îÄ index.qmd            # Main dashboard (this page)\n‚îú‚îÄ‚îÄ about.qmd            # About page\n‚îú‚îÄ‚îÄ utils.py             # Python data loaders\n‚îú‚îÄ‚îÄ styles.css           # Custom CSS styling\n‚îî‚îÄ‚îÄ components/          # Future modular components"
  },
  {
    "objectID": "about.html#mechanism-tracking",
    "href": "about.html#mechanism-tracking",
    "title": "About Timepoint Dashboard",
    "section": "Mechanism Tracking",
    "text": "Mechanism Tracking\nThe dashboard tracks all 17 Timepoint mechanisms:\n\nM1: Heterogeneous Fidelity Temporal Graphs\nM2: Progressive Training Without Cache Invalidation\nM3: Exposure Event Tracking\nM4: Physics-Inspired Validation\nM5: Query-Driven Lazy Resolution\nM6: TTM Tensor Model\nM7: Causal Temporal Chains\nM8: Embodied Entity States\nM9: On-Demand Entity Generation\nM10: Scene-Level Entity Sets\nM11: Dialog/Interaction Synthesis\nM12: Counterfactual Branching\nM13: Multi-Entity Synthesis\nM14: Circadian Activity Patterns\nM15: Entity Prospection\nM16: Animistic Entity Extension\nM17: Modal Temporal Causality (PEARL, DIRECTORIAL, NONLINEAR, BRANCHING, CYCLICAL, PORTAL)\n\n\nBuilt with ‚ù§Ô∏è using Quarto + Observable + Python"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Timepoint Simulation Dashboard",
    "section": "",
    "text": "API_BASE = \"http://localhost:8000\"\n\n// URL parameter extraction\nurlParams = new URLSearchParams(window.location.search)\nrunIdFromUrl = urlParams.get('run_id')\n\n// State management from URL\ninitialDepth = parseInt(urlParams.get('depth') || '1')\ninitialEntities = urlParams.get('entities') ? urlParams.get('entities').split(',') : null\ninitialMechanisms = urlParams.get('mechanisms') ? urlParams.get('mechanisms').split(',') : null\njumpToTimepoint = urlParams.get('tp')\n\n// Load static data\nstaticData = FileAttachment(\"dashboard_data.json\").json()\n\n// Fetch run data from API\ndisplayRun = runIdFromUrl\n  ? await (async () =&gt; {\n      try {\n        const response = await fetch(`${API_BASE}/api/run/${runIdFromUrl}`);\n        if (!response.ok) throw new Error('Run not found');\n        const runDetails = await response.json();\n\n        // Fetch narrative\n        try {\n          const narrativeResp = await fetch(`${API_BASE}/api/narrative/${runIdFromUrl}`);\n          if (narrativeResp.ok) {\n            runDetails.narrative = await narrativeResp.json();\n          }\n        } catch (e) {\n          console.log('No narrative available');\n        }\n\n        return runDetails;\n      } catch (error) {\n        console.error('Error fetching run:', error);\n        return null;\n      }\n    })()\n  : (await staticData).selected_run\n\n// Extract timepoints and entities\ntimepoints = displayRun?.narrative?.timepoints || displayRun?.narrative?.timeline || []\nallEntities = {\n  const entitySet = new Set();\n  timepoints.forEach(tp =&gt; {\n    const entities = tp.entities_present || tp.entities || [];\n    entities.forEach(e =&gt; entitySet.add(e));\n  });\n  return Array.from(entitySet).sort();\n}\n\n// Mechanism data\nmechanismsUsed = displayRun?.mechanism_usage || []\nresolutionAssignments = displayRun?.resolution_assignments || []\nvalidations = displayRun?.validations || []\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nmutable depthLevel = initialDepth\nmutable selectedEntitiesSet = new Set(initialEntities || allEntities)\nmutable activeMechanisms = new Set(initialMechanisms || ['fidelity', 'causality', 'embodiment'])\n\n// URL state update function\nfunction updateURLState() {\n  const params = new URLSearchParams();\n  params.set('run_id', runIdFromUrl);\n  params.set('depth', mutable depthLevel);\n  if (mutable selectedEntitiesSet.size &lt; allEntities.length) {\n    params.set('entities', Array.from(mutable selectedEntitiesSet).join(','));\n  }\n  if (mutable activeMechanisms.size &gt; 0 && mutable activeMechanisms.size &lt; 10) {\n    params.set('mechanisms', Array.from(mutable activeMechanisms).join(','));\n  }\n  const newUrl = `${window.location.pathname}?${params.toString()}`;\n  window.history.pushState({}, '', newUrl);\n}\n\n// Depth change handler\nfunction setDepth(level) {\n  mutable depthLevel = level;\n  updateURLState();\n  requestAnimationFrame(() =&gt; {\n    renderTimeline();\n  });\n}\n\n// Entity toggle handler\nfunction toggleEntity(entity) {\n  if (mutable selectedEntitiesSet.has(entity)) {\n    mutable selectedEntitiesSet.delete(entity);\n  } else {\n    mutable selectedEntitiesSet.add(entity);\n  }\n  mutable selectedEntitiesSet = new Set(mutable selectedEntitiesSet);\n  updateURLState();\n  requestAnimationFrame(() =&gt; {\n    renderTimeline();\n  });\n}\n\n// Mechanism toggle handler\nfunction toggleMechanism(mech) {\n  if (mutable activeMechanisms.has(mech)) {\n    mutable activeMechanisms.delete(mech);\n  } else {\n    mutable activeMechanisms.add(mech);\n  }\n  mutable activeMechanisms = new Set(mutable activeMechanisms);\n  updateURLState();\n  requestAnimationFrame(() =&gt; {\n    renderTimeline();\n  });\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnavLinks = runIdFromUrl\n  ? html`&lt;div class=\"nav-header\"&gt;\n      &lt;div class=\"nav-links\"&gt;\n        &lt;a href=\"runs.html\"&gt;‚Üê All Runs&lt;/a&gt;\n        &lt;span class=\"divider\"&gt;|&lt;/span&gt;\n        &lt;a href=\"analytics.html\"&gt;Analytics&lt;/a&gt;\n        &lt;span class=\"divider\"&gt;|&lt;/span&gt;\n        &lt;a href=\"screenplay.html?run_id=${runIdFromUrl}\"&gt;üìÑ Screenplay&lt;/a&gt;\n        &lt;span class=\"divider\"&gt;|&lt;/span&gt;\n        &lt;a href=\"dialogs.html?run_id=${runIdFromUrl}\"&gt;üí¨ Dialogs&lt;/a&gt;\n        &lt;button onclick=\"window.location.reload()\" class=\"refresh-btn\"&gt;üîÑ Refresh&lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;`\n  : html`&lt;div class=\"nav-header\"&gt;\n      &lt;div class=\"nav-links\"&gt;\n        &lt;a href=\"runs.html\"&gt;‚Üê All Runs&lt;/a&gt;\n        &lt;span class=\"divider\"&gt;|&lt;/span&gt;\n        &lt;a href=\"analytics.html\"&gt;Analytics&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;`\n\nmetadata_summary = html`\n  &lt;div class=\"metadata-summary\"&gt;\n    &lt;div class=\"meta-grid\"&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Run ID&lt;/div&gt;\n        &lt;div class=\"meta-value\"&gt;&lt;code&gt;${displayRun?.run_id || 'N/A'}&lt;/code&gt;&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Template&lt;/div&gt;\n        &lt;div class=\"meta-value\"&gt;${displayRun?.template_id || 'N/A'}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Mode&lt;/div&gt;\n        &lt;div class=\"meta-value mode-${displayRun?.causal_mode}\"&gt;${(displayRun?.causal_mode || 'N/A').toUpperCase()}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Entities&lt;/div&gt;\n        &lt;div class=\"meta-value value-entities\"&gt;${displayRun?.entities_created || 0}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Timepoints&lt;/div&gt;\n        &lt;div class=\"meta-value value-timepoints\"&gt;${displayRun?.timepoints_created || 0}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Cost&lt;/div&gt;\n        &lt;div class=\"meta-value\"&gt;$${displayRun?.cost_usd?.toFixed(3) || '0.000'}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Tokens&lt;/div&gt;\n        &lt;div class=\"meta-value\"&gt;${displayRun?.tokens_used ? Math.round(displayRun.tokens_used / 1000) + 'k' : '0'}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"meta-card\"&gt;\n        &lt;div class=\"meta-label\"&gt;Duration&lt;/div&gt;\n        &lt;div class=\"meta-value\"&gt;${displayRun?.duration_seconds ? Math.round(displayRun.duration_seconds) + 's' : 'N/A'}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    ${displayRun?.narrative?.executive_summary ? html`\n      &lt;div class=\"executive-summary\"&gt;\n        &lt;div class=\"summary-label\"&gt;Executive Summary&lt;/div&gt;\n        &lt;div class=\"summary-text\"&gt;${displayRun.narrative.executive_summary}&lt;/div&gt;\n      &lt;/div&gt;\n    ` : ''}\n\n    ${validations && validations.length &gt; 0 ? html`\n      &lt;div class=\"validations-summary\"&gt;\n        &lt;div class=\"summary-label\"&gt;Validations&lt;/div&gt;\n        &lt;div class=\"validation-list\"&gt;\n          ${validations.map(v =&gt; html`\n            &lt;div class=\"validation-item ${v.passed ? 'validation-pass' : 'validation-fail'}\"&gt;\n              &lt;div class=\"validation-header\"&gt;\n                &lt;span class=\"validation-icon\"&gt;${v.passed ? '‚úÖ' : '‚ùå'}&lt;/span&gt;\n                &lt;span class=\"validation-name\"&gt;${v.validator_name}&lt;/span&gt;\n              &lt;/div&gt;\n              ${v.message ? html`&lt;div class=\"validation-message\"&gt;${v.message}&lt;/div&gt;` : ''}\n              ${v.violations ? html`&lt;div class=\"validation-violations\"&gt;Violations: ${v.violations}&lt;/div&gt;` : ''}\n            &lt;/div&gt;\n          `)}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    ` : ''}\n  &lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ==============================================================================\n// CONTROL DASHBOARD (STICKY HEADER)\n// ==============================================================================\n\ncontrolDashboard = {\n  if (!runIdFromUrl || timepoints.length === 0) return html`&lt;div&gt;&lt;/div&gt;`;\n\n  const depthButtons = [\n    { level: 0, label: 'Spine', desc: 'Overview' },\n    { level: 1, label: 'Events', desc: 'Descriptions' },\n    { level: 2, label: 'Entities', desc: 'Participation' },\n    { level: 3, label: 'Mechanisms', desc: 'Data' },\n    { level: 4, label: 'State', desc: 'Context' },\n    { level: 5, label: 'Dialog', desc: 'Conversations' }\n  ];\n\n  const container = html`&lt;div class=\"control-dashboard\"&gt;\n    &lt;div class=\"control-section\"&gt;\n      &lt;div class=\"control-label\"&gt;Depth&lt;/div&gt;\n      &lt;div class=\"depth-controls\"&gt;\n        ${depthButtons.map(btn =&gt; {\n          const button = html`&lt;button class=\"depth-btn ${mutable depthLevel === btn.level ? 'active' : ''}\" title=\"${btn.desc}\"&gt;${btn.label}&lt;/button&gt;`;\n          button.onclick = () =&gt; setDepth(btn.level);\n          return button;\n        })}\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    ${allEntities.length &gt; 0 ? html`\n      &lt;div class=\"control-section\"&gt;\n        &lt;div class=\"control-label\"&gt;Entities&lt;/div&gt;\n        &lt;div class=\"entity-filters\"&gt;\n          ${allEntities.map(entity =&gt; {\n            const icon = entityIcons[entity.toLowerCase()] || 'üë§';\n            const isActive = mutable selectedEntitiesSet.has(entity);\n            const button = html`&lt;button class=\"entity-filter ${isActive ? 'active' : ''}\"&gt;\n              &lt;span class=\"entity-icon\"&gt;${icon}&lt;/span&gt;\n              &lt;span class=\"entity-name\"&gt;${entity}&lt;/span&gt;\n            &lt;/button&gt;`;\n            button.onclick = () =&gt; toggleEntity(entity);\n            return button;\n          })}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    ` : ''}\n\n    ${mutable depthLevel &gt;= 3 ? html`\n      &lt;div class=\"control-section\"&gt;\n        &lt;div class=\"control-label\"&gt;Mechanisms&lt;/div&gt;\n        &lt;div class=\"mechanism-filters\"&gt;\n          ${['fidelity', 'causality', 'embodiment', 'dialog', 'tensor', 'generation'].map(mech =&gt; {\n            const isActive = mutable activeMechanisms.has(mech);\n            const button = html`&lt;button class=\"mech-filter ${isActive ? 'active' : ''}\"&gt;${mech}&lt;/button&gt;`;\n            button.onclick = () =&gt; toggleMechanism(mech);\n            return button;\n          })}\n        &lt;/div&gt;\n      &lt;/div&gt;\n    ` : ''}\n  &lt;/div&gt;`;\n\n  return container;\n}\n\n\n\n\n\n\n\nentityIcons = {\n  return {\n    'customers': 'üë•',\n    'timepoint': 'üè¢',\n    'ken': 'üë®‚Äçüíº',\n    'sean': 'üë®‚Äçüíº'\n  };\n}\n\n// Semantic mechanism labels (M1-M17 contextual naming)\nmechanismLabels = {\n  return {\n    'M1': 'Fidelity',\n    'M2': 'Progressive Training',\n    'M3': 'Exposure Tracking',\n    'M4': 'Physics Validation',\n    'M5': 'Query Resolution',\n    'M6': 'Tensor Model',\n    'M7': 'Causality',\n    'M8': 'Embodiment',\n    'M9': 'On-Demand Generation',\n    'M10': 'Scene Context',\n    'M11': 'Dialog Synthesis',\n    'M12': 'Counterfactuals',\n    'M13': 'Multi-Entity',\n    'M14': 'Circadian Patterns',\n    'M15': 'Prospection',\n    'M16': 'Animism',\n    'M17': 'Temporal Mode'\n  };\n}\n\n// Mechanism color coding by category\nmechanismColors = {\n  return {\n    'M1': '#6366f1',  // Fidelity - indigo\n    'M2': '#6366f1',  // Training - indigo\n    'M5': '#6366f1',  // Query - indigo\n    'M6': '#8b5cf6',  // Tensor - purple\n    'M7': '#ec4899',  // Causality - pink\n    'M8': '#f59e0b',  // Embodiment - amber\n    'M3': '#10b981',  // Exposure - emerald\n    'M4': '#10b981',  // Validation - emerald\n    'M9': '#0ea5e9',  // Generation - sky\n    'M10': '#0ea5e9', // Scene - sky\n    'M11': '#8b5cf6', // Dialog - purple\n    'M12': '#ec4899', // Counterfactual - pink\n    'M13': '#a855f7', // Multi-entity - fuchsia\n    'M14': '#f59e0b', // Circadian - amber\n    'M15': '#06b6d4', // Prospection - cyan\n    'M16': '#84cc16', // Animism - lime\n    'M17': '#ef4444'  // Temporal - red\n  };\n}\n\n// Render mechanisms for a timepoint\nrenderMechanisms = (tp, tpIdx) =&gt; {\n  // Get mechanisms active at this timepoint from run data\n  const tpMechanisms = mechanismsUsed.filter(m =&gt; {\n    // Match by timepoint context or index\n    return m.context && (m.context.includes(tp.timepoint_id) || m.context.includes(`tp_${tpIdx}`));\n  });\n\n  if (tpMechanisms.length === 0) {\n    return html`&lt;div class=\"mech-empty\"&gt;No mechanism data tracked for this timepoint&lt;/div&gt;`;\n  }\n\n  // Group mechanisms by type\n  const mechCounts = {};\n  tpMechanisms.forEach(m =&gt; {\n    const mechId = m.mechanism.toUpperCase();\n    if (!mechCounts[mechId]) {\n      mechCounts[mechId] = { count: 0, functions: new Set() };\n    }\n    mechCounts[mechId].count++;\n    if (m.function_name) {\n      mechCounts[mechId].functions.add(m.function_name);\n    }\n  });\n\n  // Filter by active mechanisms\n  const activeFilter = Array.from(mutable activeMechanisms);\n  const filteredMechs = Object.entries(mechCounts).filter(([mechId, data]) =&gt; {\n    if (activeFilter.length === 0) return true;\n    const label = mechanismLabels[mechId]?.toLowerCase() || '';\n    return activeFilter.some(filter =&gt; label.includes(filter) || mechId.toLowerCase().includes(filter));\n  });\n\n  if (filteredMechs.length === 0) {\n    return html`&lt;div class=\"mech-empty\"&gt;No active mechanisms match current filters&lt;/div&gt;`;\n  }\n\n  return html`\n    &lt;div class=\"mech-grid\"&gt;\n      ${filteredMechs.map(([mechId, data]) =&gt; {\n        const label = mechanismLabels[mechId] || mechId;\n        const color = mechanismColors[mechId] || '#64748b';\n        const functions = Array.from(data.functions);\n\n        return html`\n          &lt;div class=\"mech-card\" style=\"border-left-color: ${color};\"&gt;\n            &lt;div class=\"mech-header\"&gt;\n              &lt;span class=\"mech-id\" style=\"color: ${color};\"&gt;${mechId}&lt;/span&gt;\n              &lt;span class=\"mech-label\"&gt;${label}&lt;/span&gt;\n              &lt;span class=\"mech-count\"&gt;${data.count}√ó&lt;/span&gt;\n            &lt;/div&gt;\n            ${functions.length &gt; 0 ? html`\n              &lt;div class=\"mech-functions\"&gt;\n                ${functions.slice(0, 3).map(fn =&gt; html`\n                  &lt;code class=\"mech-fn\"&gt;${fn}&lt;/code&gt;\n                `)}\n                ${functions.length &gt; 3 ? html`&lt;span class=\"mech-more\"&gt;+${functions.length - 3} more&lt;/span&gt;` : ''}\n              &lt;/div&gt;\n            ` : ''}\n          &lt;/div&gt;\n        `;\n      })}\n    &lt;/div&gt;\n  `;\n}\n\n// Render entity states (physical & cognitive tensors)\nrenderEntityStates = (tp, entities) =&gt; {\n  // Get resolution assignments for this timepoint\n  const tpResolutions = resolutionAssignments.filter(r =&gt;\n    r.timepoint_id === tp.timepoint_id\n  );\n\n  if (tpResolutions.length === 0 && (!tp.entity_states || tp.entity_states.length === 0)) {\n    return html`&lt;div class=\"state-empty\"&gt;No state data available for this timepoint&lt;/div&gt;`;\n  }\n\n  // Build state cards for each entity\n  const stateCards = entities.map(entityId =&gt; {\n    // Find resolution for this entity\n    const resolution = tpResolutions.find(r =&gt; r.entity_id === entityId);\n\n    // Get entity state data from timepoint if available\n    const entityState = tp.entity_states?.find(s =&gt; s.entity_id === entityId);\n\n    return html`\n      &lt;div class=\"state-card\"&gt;\n        &lt;div class=\"state-entity\"&gt;\n          &lt;span class=\"state-icon\"&gt;${entityIcons[entityId.toLowerCase()] || 'üë§'}&lt;/span&gt;\n          &lt;span class=\"state-name\"&gt;${entityId}&lt;/span&gt;\n          ${resolution ? html`\n            &lt;span class=\"state-resolution resolution-${resolution.resolution.toLowerCase()}\"&gt;\n              ${resolution.resolution}\n            &lt;/span&gt;\n          ` : ''}\n        &lt;/div&gt;\n\n        ${entityState ? html`\n          &lt;div class=\"state-tensors\"&gt;\n            &lt;!-- Physical Tensor --&gt;\n            ${entityState.physical ? html`\n              &lt;div class=\"tensor-section\"&gt;\n                &lt;div class=\"tensor-label\"&gt;\n                  &lt;span class=\"tensor-icon\"&gt;üèÉ&lt;/span&gt;\n                  Physical\n                &lt;/div&gt;\n                &lt;div class=\"tensor-grid\"&gt;\n                  ${entityState.physical.age !== undefined ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Age&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${entityState.physical.age}&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                  ${entityState.physical.health_status ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Health&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${entityState.physical.health_status}&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                  ${entityState.physical.location ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Location&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${entityState.physical.location}&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            ` : ''}\n\n            &lt;!-- Cognitive Tensor --&gt;\n            ${entityState.cognitive ? html`\n              &lt;div class=\"tensor-section\"&gt;\n                &lt;div class=\"tensor-label\"&gt;\n                  &lt;span class=\"tensor-icon\"&gt;üß†&lt;/span&gt;\n                  Cognitive\n                &lt;/div&gt;\n                &lt;div class=\"tensor-grid\"&gt;\n                  ${entityState.cognitive.emotional_valence !== undefined ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Emotion&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${(entityState.cognitive.emotional_valence * 100).toFixed(0)}%&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                  ${entityState.cognitive.energy_budget !== undefined ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Energy&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${(entityState.cognitive.energy_budget * 100).toFixed(0)}%&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                  ${entityState.cognitive.knowledge_state ? html`\n                    &lt;div class=\"tensor-field\"&gt;\n                      &lt;span class=\"field-key\"&gt;Knowledge&lt;/span&gt;\n                      &lt;span class=\"field-value\"&gt;${entityState.cognitive.knowledge_state.length} items&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            ` : ''}\n          &lt;/div&gt;\n        ` : html`\n          &lt;div class=\"state-placeholder\"&gt;\n            &lt;span class=\"placeholder-text\"&gt;State data available at resolution: ${resolution?.resolution || 'SCENE'}&lt;/span&gt;\n          &lt;/div&gt;\n        `}\n      &lt;/div&gt;\n    `;\n  });\n\n  return html`&lt;div class=\"state-grid\"&gt;${stateCards}&lt;/div&gt;`;\n}\n\n// Render dialogs for a timepoint\nrenderDialogs = (tp, tpIdx) =&gt; {\n  // Get dialogs from timepoint data or from displayRun.dialogs\n  const tpDialogs = tp.dialogs || [];\n\n  if (tpDialogs.length === 0) {\n    return html`&lt;div class=\"dialog-empty\"&gt;No conversations recorded at this timepoint&lt;/div&gt;`;\n  }\n\n  return html`\n    &lt;div class=\"dialog-list\"&gt;\n      ${tpDialogs.map((dialog, dialogIdx) =&gt; {\n        const speakers = dialog.participants || [];\n        const turns = dialog.turns || [];\n\n        return html`\n          &lt;div class=\"dialog-card\"&gt;\n            &lt;div class=\"dialog-header\"&gt;\n              &lt;div class=\"dialog-participants\"&gt;\n                ${speakers.map(speaker =&gt; html`\n                  &lt;span class=\"participant-badge\"&gt;\n                    &lt;span class=\"badge-icon\"&gt;${entityIcons[speaker.toLowerCase()] || 'üë§'}&lt;/span&gt;\n                    ${speaker}\n                  &lt;/span&gt;\n                `)}\n              &lt;/div&gt;\n              &lt;span class=\"dialog-turn-count\"&gt;${turns.length} turns&lt;/span&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"dialog-transcript\"&gt;\n              ${turns.slice(0, 5).map((turn, turnIdx) =&gt; html`\n                &lt;div class=\"dialog-turn\"&gt;\n                  &lt;div class=\"turn-speaker\"&gt;\n                    &lt;span class=\"speaker-icon\"&gt;${entityIcons[turn.speaker?.toLowerCase()] || 'üë§'}&lt;/span&gt;\n                    &lt;span class=\"speaker-name\"&gt;${turn.speaker}&lt;/span&gt;\n                    ${turn.emotional_tone ? html`\n                      &lt;span class=\"speaker-emotion\"&gt;(${turn.emotional_tone})&lt;/span&gt;\n                    ` : ''}\n                  &lt;/div&gt;\n                  &lt;div class=\"turn-content\"&gt;${turn.content}&lt;/div&gt;\n                  ${turn.knowledge_references && turn.knowledge_references.length &gt; 0 ? html`\n                    &lt;div class=\"turn-knowledge\"&gt;\n                      &lt;span class=\"knowledge-icon\"&gt;üí°&lt;/span&gt;\n                      &lt;span class=\"knowledge-text\"&gt;${turn.knowledge_references.join(', ')}&lt;/span&gt;\n                    &lt;/div&gt;\n                  ` : ''}\n                &lt;/div&gt;\n              `)}\n              ${turns.length &gt; 5 ? html`\n                &lt;div class=\"dialog-more\"&gt;\n                  &lt;span class=\"more-text\"&gt;+ ${turns.length - 5} more turns&lt;/span&gt;\n                &lt;/div&gt;\n              ` : ''}\n            &lt;/div&gt;\n\n            ${dialog.information_exchanged && dialog.information_exchanged.length &gt; 0 ? html`\n              &lt;div class=\"dialog-summary\"&gt;\n                &lt;div class=\"summary-label\"&gt;Information Exchanged&lt;/div&gt;\n                &lt;div class=\"summary-items\"&gt;\n                  ${dialog.information_exchanged.slice(0, 3).map(info =&gt; html`\n                    &lt;span class=\"info-item\"&gt;${info}&lt;/span&gt;\n                  `)}\n                &lt;/div&gt;\n              &lt;/div&gt;\n            ` : ''}\n          &lt;/div&gt;\n        `;\n      })}\n    &lt;/div&gt;\n  `;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// ==============================================================================\n// VERTICAL TIMELINE RENDERING\n// ==============================================================================\n\nrenderTimeline = () =&gt; {\n  if (!runIdFromUrl || timepoints.length === 0) {\n    return html`&lt;div class=\"empty-state\"&gt;\n      &lt;div class=\"empty-icon\"&gt;‚è±Ô∏è&lt;/div&gt;\n      &lt;div class=\"empty-title\"&gt;No timeline data available&lt;/div&gt;\n      &lt;div class=\"empty-subtitle\"&gt;\n        ${displayRun?.timepoints_created &gt; 0\n          ? 'Run has data in database but narrative not exported'\n          : 'Select a run with timeline data to visualize'}\n      &lt;/div&gt;\n    &lt;/div&gt;`;\n  }\n\n  // Importance color mapping\n  const getImportanceColor = (importance) =&gt; {\n    if (importance &gt;= 0.7) return { primary: '#6366f1', secondary: '#8b5cf6', name: 'high' };\n    if (importance &gt;= 0.4) return { primary: '#667eea', secondary: '#764ba2', name: 'medium' };\n    return { primary: '#64748b', secondary: '#475569', name: 'low' };\n  };\n\n  // Calculate timeline height\n  const timelineHeight = timepoints.length * 600 + 200;\n  const spineX = 240; // Desktop spine position\n\n  // Build timepoint cards\n  const cards = timepoints.map((tp, idx) =&gt; {\n    const importance = tp.importance !== undefined ? tp.importance : 0.5;\n    const colors = getImportanceColor(importance);\n    const entities = tp.entities_present || tp.entities || [];\n    const filteredEntities = entities.filter(e =&gt; mutable selectedEntitiesSet.has(e));\n\n    if (filteredEntities.length === 0 && mutable selectedEntitiesSet.size &lt; allEntities.length) {\n      return null; // Skip if no entities match filter\n    }\n\n    const cardY = idx * 600 + 100;\n    const isLeft = idx % 2 === 0;\n\n    return html`\n      &lt;div\n        class=\"timepoint-card depth-${mutable depthLevel} ${isLeft ? 'left' : 'right'}\"\n        style=\"top: ${cardY}px;\"\n        data-tp=\"${tp.timepoint_id}\"\n        data-index=\"${idx}\"\n      &gt;\n        &lt;div class=\"card-connector\" style=\"background: ${colors.primary};\"&gt;&lt;/div&gt;\n\n        &lt;!-- Level 0: Just the node marker --&gt;\n        &lt;div class=\"tp-spine-marker\"&gt;\n          &lt;div class=\"node-circle\" style=\"background: linear-gradient(135deg, ${colors.primary}, ${colors.secondary});\"&gt;&lt;/div&gt;\n          &lt;div class=\"node-label\"&gt;${tp.timepoint_id || `T${idx + 1}`}&lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Level 1+: Event info --&gt;\n        ${mutable depthLevel &gt;= 1 ? html`\n          &lt;div class=\"tp-event-info\"&gt;\n            &lt;h3 class=\"event-title\"&gt;${tp.timepoint_id || `Timepoint ${idx + 1}`}&lt;/h3&gt;\n            &lt;time class=\"event-time\"&gt;${new Date(tp.timestamp).toLocaleString()}&lt;/time&gt;\n            &lt;p class=\"event-description\"&gt;${tp.event_description || 'No description'}&lt;/p&gt;\n            ${tp.importance !== undefined ? html`\n              &lt;div class=\"importance-indicator\"&gt;\n                &lt;span class=\"importance-label\"&gt;Importance&lt;/span&gt;\n                &lt;div class=\"importance-bar\"&gt;\n                  &lt;div class=\"importance-fill importance-${colors.name}\" style=\"width: ${importance * 100}%\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n                &lt;span class=\"importance-value\"&gt;${(importance * 100).toFixed(0)}%&lt;/span&gt;\n              &lt;/div&gt;\n            ` : ''}\n          &lt;/div&gt;\n        ` : ''}\n\n        &lt;!-- Level 2+: Entities --&gt;\n        ${mutable depthLevel &gt;= 2 && filteredEntities.length &gt; 0 ? html`\n          &lt;div class=\"tp-entities\"&gt;\n            &lt;div class=\"section-label\"&gt;Entities Present&lt;/div&gt;\n            &lt;div class=\"entity-badges\"&gt;\n              ${filteredEntities.map(entity =&gt; html`\n                &lt;span class=\"entity-badge\"&gt;\n                  &lt;span class=\"badge-icon\"&gt;${entityIcons[entity.toLowerCase()] || 'üë§'}&lt;/span&gt;\n                  &lt;span class=\"badge-name\"&gt;${entity}&lt;/span&gt;\n                &lt;/span&gt;\n              `)}\n            &lt;/div&gt;\n          &lt;/div&gt;\n        ` : ''}\n\n        &lt;!-- Level 3+: Mechanisms --&gt;\n        ${mutable depthLevel &gt;= 3 ? html`\n          &lt;div class=\"tp-mechanisms\"&gt;\n            &lt;div class=\"section-label\"&gt;Mechanisms&lt;/div&gt;\n            ${renderMechanisms(tp, idx)}\n          &lt;/div&gt;\n        ` : ''}\n\n        &lt;!-- Level 4+: State --&gt;\n        ${mutable depthLevel &gt;= 4 ? html`\n          &lt;div class=\"tp-state\"&gt;\n            &lt;div class=\"section-label\"&gt;Entity States&lt;/div&gt;\n            ${renderEntityStates(tp, filteredEntities)}\n          &lt;/div&gt;\n        ` : ''}\n\n        &lt;!-- Level 5+: Dialog --&gt;\n        ${mutable depthLevel &gt;= 5 ? html`\n          &lt;div class=\"tp-dialog\"&gt;\n            &lt;div class=\"section-label\"&gt;Conversations&lt;/div&gt;\n            ${renderDialogs(tp, idx)}\n          &lt;/div&gt;\n        ` : ''}\n      &lt;/div&gt;\n    `;\n  }).filter(card =&gt; card !== null);\n\n  // Build SVG spine with entity tracer lines\n  const svgWidth = 480;\n  const spineLineColor = '#475569';\n\n  // Entity tracer paths\n  const entityPaths = allEntities.map((entity, entityIdx) =&gt; {\n    if (!mutable selectedEntitiesSet.has(entity)) return null;\n\n    const entityColor = {\n      'customers': '#ec4899',\n      'timepoint': '#0ea5e9',\n      'ken': '#8b5cf6',\n      'sean': '#22c55e'\n    }[entity.toLowerCase()] || '#94a3b8';\n\n    // Build path through timepoints where entity is present\n    let pathData = '';\n    let lastY = null;\n\n    timepoints.forEach((tp, idx) =&gt; {\n      const entities = tp.entities_present || tp.entities || [];\n      if (entities.includes(entity)) {\n        const y = idx * 600 + 100;\n        if (lastY === null) {\n          pathData += `M ${spineX + (entityIdx - allEntities.length/2) * 8} ${y} `;\n        } else {\n          pathData += `L ${spineX + (entityIdx - allEntities.length/2) * 8} ${y} `;\n        }\n        lastY = y;\n      }\n    });\n\n    if (!pathData) return null;\n\n    return html`&lt;path\n      class=\"entity-tracer\"\n      d=\"${pathData}\"\n      stroke=\"${entityColor}\"\n      stroke-width=\"2\"\n      fill=\"none\"\n      opacity=\"0.3\"\n      data-entity=\"${entity}\"\n    /&gt;`;\n  }).filter(p =&gt; p !== null);\n\n  return html`\n    &lt;div class=\"timeline-container\"&gt;\n      &lt;svg class=\"timeline-spine\" width=\"${svgWidth}\" height=\"${timelineHeight}\"&gt;\n        &lt;!-- Main spine line --&gt;\n        &lt;line\n          x1=\"${spineX}\"\n          y1=\"0\"\n          x2=\"${spineX}\"\n          y2=\"${timelineHeight}\"\n          stroke=\"${spineLineColor}\"\n          stroke-width=\"4\"\n          class=\"spine-line\"\n        /&gt;\n\n        &lt;!-- Entity tracer lines --&gt;\n        ${entityPaths}\n\n        &lt;!-- Timepoint nodes --&gt;\n        ${timepoints.map((tp, idx) =&gt; {\n          const importance = tp.importance !== undefined ? tp.importance : 0.5;\n          const colors = getImportanceColor(importance);\n          const y = idx * 600 + 100;\n\n          return html`&lt;g&gt;\n            &lt;defs&gt;\n              &lt;linearGradient id=\"grad-${idx}\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\"&gt;\n                &lt;stop offset=\"0%\" style=\"stop-color:${colors.primary};stop-opacity:1\" /&gt;\n                &lt;stop offset=\"100%\" style=\"stop-color:${colors.secondary};stop-opacity:1\" /&gt;\n              &lt;/linearGradient&gt;\n            &lt;/defs&gt;\n            &lt;circle\n              cx=\"${spineX}\"\n              cy=\"${y}\"\n              r=\"16\"\n              fill=\"url(#grad-${idx})\"\n              stroke=\"${colors.primary}\"\n              stroke-width=\"3\"\n              class=\"spine-node\"\n              data-index=\"${idx}\"\n            /&gt;\n          &lt;/g&gt;`;\n        })}\n      &lt;/svg&gt;\n\n      &lt;div class=\"timeline-cards\"&gt;\n        ${cards}\n      &lt;/div&gt;\n\n      &lt;!-- Navigation sidebar --&gt;\n      &lt;div class=\"timeline-nav\"&gt;\n        &lt;div class=\"nav-title\"&gt;Timeline&lt;/div&gt;\n        ${timepoints.map((tp, idx) =&gt; {\n          const importance = tp.importance !== undefined ? tp.importance : 0.5;\n          const link = html`\n            &lt;a\n              href=\"#tp-${idx}\"\n              class=\"nav-item\"\n              data-index=\"${idx}\"\n            &gt;\n              &lt;span class=\"nav-label\"&gt;${tp.timepoint_id || `T${idx+1}`}&lt;/span&gt;\n              &lt;div class=\"nav-importance-bar\" style=\"width: ${importance * 100}%\"&gt;&lt;/div&gt;\n            &lt;/a&gt;\n          `;\n          // Add smooth scroll behavior\n          link.onclick = (e) =&gt; {\n            e.preventDefault();\n            const targetCard = document.querySelector(`.timepoint-card[data-index=\"${idx}\"]`);\n            if (targetCard) {\n              targetCard.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            }\n          };\n          return link;\n        })}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  `;\n}\n\n\n\n\n\n\n\nhtml`${navLinks}`\n\n\n\n\n\n\n\nhtml`${metadata_summary}`\n\n\n\n\n\n\n\nhtml`${controlDashboard}`\n\n\n\n\n\n\n\nhtml`${renderTimeline()}`"
  },
  {
    "objectID": "index.html#run-selector",
    "href": "index.html#run-selector",
    "title": "Timepoint Simulation Dashboard",
    "section": "Run Selector",
    "text": "Run Selector\n\nviewof selectedRunId = Inputs.select(\n  data.recent_runs.map(r =&gt; r.run_id),\n  {\n    label: \"Simulation Run:\",\n    value: data.selected_run.run_id,\n    format: (id) =&gt; {\n      const run = data.recent_runs.find(r =&gt; r.run_id === id);\n      if (!run) return id;\n      const cost = run.cost_usd ? `$${run.cost_usd.toFixed(2)}` : '$0.00';\n      return `${run.template_id} (${run.started_at.substring(0,10)}) - ${cost}`;\n    }\n  }\n)\n\n// Get current run (use pre-loaded data if selected, otherwise just metadata)\ncurrentRun = selectedRunId === data.selected_run.run_id\n  ? data.selected_run\n  : data.recent_runs.find(r =&gt; r.run_id === selectedRunId)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüìä Run Metadata\n\nhtml`\n&lt;div class=\"metadata-card\"&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Run ID:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${currentRun?.run_id || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Template:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${currentRun?.template_id || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Status:&lt;/span&gt;\n    &lt;span class=\"value status-${currentRun?.status?.toLowerCase()}\"&gt;${currentRun?.status || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Cost:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;$${currentRun?.cost_usd?.toFixed(3) || '0.000'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Started:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${currentRun?.started_at?.substring(0,19).replace('T',' ') || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Completed:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${currentRun?.completed_at?.substring(0,19).replace('T',' ') || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\nüéØ Simulation Stats\n\nhtml`\n&lt;div class=\"stats-card\"&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${currentRun?.entities_created || 0}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Entities&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${currentRun?.timepoints_created || 0}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Timepoints&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${currentRun?.causal_mode || 'N/A'}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Causal Mode&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${Object.keys(currentRun?.mechanisms_used || {}).length}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Mechanisms&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\nüìù Executive Summary\n\nmd`${currentRun?.narrative?.executive_summary || '*Select the pre-loaded run to see full narrative*'}`"
  },
  {
    "objectID": "index.html#visualizations",
    "href": "index.html#visualizations",
    "title": "Timepoint Simulation Dashboard",
    "section": "Visualizations",
    "text": "Visualizations\n\nviewof activeTab = Inputs.radio(\n  [\"Timeline\", \"Network\", \"Metrics\"],\n  {value: \"Timeline\"}\n)\n\n\n\n\n\n\n\nallEntities = {\n  const timepoints = displayRun?.narrative?.timepoints || displayRun?.narrative?.timeline || [];\n  const entitySet = new Set();\n  timepoints.forEach(tp =&gt; {\n    const entities = tp.entities_present || tp.entities || [];\n    entities.forEach(e =&gt; entitySet.add(e));\n  });\n  return Array.from(entitySet).sort();\n}\n\n// Entity filter controls\nviewof selectedEntities = activeTab === 'Timeline' && allEntities.length &gt; 0\n  ? Inputs.checkbox(\n      allEntities,\n      {\n        value: allEntities,\n        label: \"Filter by Entity:\",\n        format: x =&gt; {\n          const icons = {\n            'customers': 'üë•',\n            'timepoint': 'üè¢',\n            'ken': 'üë®‚Äçüíº',\n            'sean': 'üë®‚Äçüíº'\n          };\n          const icon = icons[x.toLowerCase()] || 'üë§';\n          return `${icon} ${x}`;\n        }\n      }\n    )\n  : []\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntimeline_viz = {\n  if (activeTab !== 'Timeline') return html`&lt;div&gt;&lt;/div&gt;`;\n\n  const wrapper = html`&lt;div style=\"position: relative;\"&gt;\n    &lt;div id=\"timeline\" style=\"height: auto; min-height: 500px; border: 1px solid #334155; border-radius: 8px; background: rgba(30, 41, 59, 0.6); cursor: pointer;\"&gt;&lt;/div&gt;\n    &lt;div id=\"timeline-tooltip\" style=\"position: absolute; display: none; z-index: 1000; pointer-events: none; max-width: 350px; background: rgba(15, 23, 42, 0.98); border: 2px solid #6366f1; border-radius: 8px; padding: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); color: #f8fafc;\"&gt;&lt;/div&gt;\n    &lt;div id=\"timepoint-detail-panel\" style=\"display: none; margin-top: 1rem; padding: 1.5rem; border: 1px solid #334155; border-radius: 8px; background: rgba(30, 41, 59, 0.8); color: #f8fafc; opacity: 0; transition: opacity 0.3s ease-in-out;\"&gt;&lt;/div&gt;\n  &lt;/div&gt;`;\n\n  const container = wrapper.querySelector('#timeline');\n  const detailPanel = wrapper.querySelector('#timepoint-detail-panel');\n  const tooltipDiv = wrapper.querySelector('#timeline-tooltip');\n\n  const timepoints = displayRun?.narrative?.timepoints || displayRun?.narrative?.timeline || [];\n  const dialogs = displayRun?.narrative?.dialogs || [];\n\n  if (timepoints.length === 0) {\n    const hasTimepointsInDB = displayRun?.timepoints_created &gt; 0;\n    const message = hasTimepointsInDB\n      ? `‚ö†Ô∏è Run has ${displayRun.timepoints_created} timepoints in database, but narrative JSON not exported. Run may need re-export.`\n      : '‚ö†Ô∏è No timepoint data available for this run';\n    container.innerHTML = `&lt;p style=\"padding: 40px; text-align: center; color: #cbd5e1;\"&gt;${message}&lt;/p&gt;`;\n    return wrapper;\n  }\n\n  // Entity icon mapping\n  const entityIcons = {\n    'customers': 'üë•',\n    'timepoint': 'üè¢',\n    'ken': 'üë®‚Äçüíº',\n    'sean': 'üë®‚Äçüíº'\n  };\n\n  // Get importance-based color\n  const getImportanceColor = (importance) =&gt; {\n    if (importance &gt;= 0.7) return ['#6366f1', '#8b5cf6']; // High - bright gradient\n    if (importance &gt;= 0.4) return ['#667eea', '#764ba2']; // Medium - standard gradient\n    return ['#64748b', '#475569']; // Low - muted gradient\n  };\n\n  // Function to build tooltip HTML\n  const buildTooltipHTML = (tp, idx) =&gt; {\n    const entities = tp.entities_present || tp.entities || [];\n    const dialogCount = tp.dialog_turn_count || 0;\n    return `\n      &lt;div style=\"font-weight: bold; font-size: 16px; margin-bottom: 8px; color: #a78bfa;\"&gt;\n        ${tp.timepoint_id || `T${idx + 1}`}\n      &lt;/div&gt;\n      &lt;div style=\"margin-bottom: 8px; color: #e2e8f0; line-height: 1.4;\"&gt;\n        ${tp.event_description || 'No description'}\n      &lt;/div&gt;\n      &lt;div style=\"font-size: 13px; color: #cbd5e1; border-top: 1px solid #475569; padding-top: 8px; margin-top: 8px;\"&gt;\n        &lt;div style=\"margin-bottom: 4px;\"&gt;üìÖ ${new Date(tp.timestamp).toLocaleString()}&lt;/div&gt;\n        ${entities.length &gt; 0 ? `&lt;div style=\"margin-bottom: 4px;\"&gt;üë• ${entities.length} entities: ${entities.slice(0, 3).join(', ')}${entities.length &gt; 3 ? '...' : ''}&lt;/div&gt;` : ''}\n        ${dialogCount &gt; 0 ? `&lt;div style=\"margin-bottom: 4px;\"&gt;üí¨ ${dialogCount} dialog turns&lt;/div&gt;` : ''}\n        ${tp.importance ? `&lt;div&gt;‚≠ê Importance: ${(tp.importance * 100).toFixed(0)}%&lt;/div&gt;` : ''}\n      &lt;/div&gt;\n      &lt;div style=\"font-size: 11px; color: #94a3b8; margin-top: 8px; font-style: italic; border-top: 1px solid #334155; padding-top: 6px;\"&gt;\n        Click for full details\n      &lt;/div&gt;\n    `;\n  };\n\n  // Function to show detail panel\n  const showDetailPanel = (idx) =&gt; {\n    const tp = timepoints[idx];\n    if (!tp) return;\n\n    const entities = tp.entities_present || tp.entities || [];\n    const dialogCount = tp.dialog_turn_count || 0;\n\n    // Find dialogs for this timepoint\n    const tpDialogs = dialogs.filter(d =&gt;\n      d.timepoint_id === tp.timepoint_id ||\n      d.timepoint === tp.timepoint_id\n    );\n\n    let detailHTML = `\n      &lt;div style=\"display: grid; gap: 1.5rem;\"&gt;\n        &lt;div&gt;\n          &lt;h3 style=\"margin: 0 0 1rem 0; color: #a78bfa; font-size: 1.5rem; border-bottom: 2px solid #6366f1; padding-bottom: 0.5rem;\"&gt;\n            ${tp.timepoint_id || `Timepoint ${idx + 1}`}\n          &lt;/h3&gt;\n        &lt;/div&gt;\n\n        &lt;div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;\"&gt;\n          &lt;div style=\"background: rgba(99, 102, 241, 0.1); padding: 1rem; border-radius: 6px; border-left: 4px solid #6366f1;\"&gt;\n            &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.25rem;\"&gt;Timestamp&lt;/div&gt;\n            &lt;div style=\"font-weight: 600;\"&gt;${new Date(tp.timestamp).toLocaleString()}&lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div style=\"background: rgba(139, 92, 246, 0.1); padding: 1rem; border-radius: 6px; border-left: 4px solid #8b5cf6;\"&gt;\n            &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.25rem;\"&gt;Entities Present&lt;/div&gt;\n            &lt;div style=\"font-weight: 600;\"&gt;${entities.length} entities&lt;/div&gt;\n          &lt;/div&gt;\n          ${dialogCount &gt; 0 ? `\n          &lt;div style=\"background: rgba(167, 139, 250, 0.1); padding: 1rem; border-radius: 6px; border-left: 4px solid #a78bfa;\"&gt;\n            &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.25rem;\"&gt;Dialog Turns&lt;/div&gt;\n            &lt;div style=\"font-weight: 600;\"&gt;${dialogCount}&lt;/div&gt;\n          &lt;/div&gt;\n          ` : ''}\n          ${tp.importance !== undefined ? `\n          &lt;div style=\"background: rgba(99, 102, 241, 0.1); padding: 1rem; border-radius: 6px; border-left: 4px solid #6366f1;\"&gt;\n            &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.25rem;\"&gt;Importance&lt;/div&gt;\n            &lt;div style=\"font-weight: 600;\"&gt;${(tp.importance * 100).toFixed(0)}%&lt;/div&gt;\n          &lt;/div&gt;\n          ` : ''}\n        &lt;/div&gt;\n\n        &lt;div&gt;\n          &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.5rem; font-weight: 600;\"&gt;Event Description&lt;/div&gt;\n          &lt;div style=\"background: rgba(30, 41, 59, 0.5); padding: 1rem; border-radius: 6px; border: 1px solid #475569;\"&gt;\n            ${tp.event_description || 'No description available'}\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n        ${entities.length &gt; 0 ? `\n        &lt;div&gt;\n          &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.5rem; font-weight: 600;\"&gt;Characters Involved&lt;/div&gt;\n          &lt;div style=\"display: flex; flex-wrap: wrap; gap: 0.5rem;\"&gt;\n            ${entities.map(e =&gt; `\n              &lt;span style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 0.35rem 0.75rem; border-radius: 1rem; font-size: 0.875rem; font-weight: 600;\"&gt;\n                ${e}\n              &lt;/span&gt;\n            `).join('')}\n          &lt;/div&gt;\n        &lt;/div&gt;\n        ` : ''}\n\n        ${tpDialogs.length &gt; 0 ? `\n        &lt;div&gt;\n          &lt;div style=\"font-size: 0.875rem; color: #94a3b8; margin-bottom: 0.5rem; font-weight: 600;\"&gt;Dialog&lt;/div&gt;\n          &lt;div style=\"background: rgba(30, 41, 59, 0.5); padding: 1rem; border-radius: 6px; border: 1px solid #475569; max-height: 300px; overflow-y: auto;\"&gt;\n            ${tpDialogs.map(d =&gt; `\n              &lt;div style=\"margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #475569;\"&gt;\n                &lt;div style=\"font-weight: 600; color: #a78bfa; margin-bottom: 0.25rem;\"&gt;${d.speaker || 'Unknown'}&lt;/div&gt;\n                &lt;div style=\"color: #cbd5e1;\"&gt;${d.text || d.content || ''}&lt;/div&gt;\n              &lt;/div&gt;\n            `).join('')}\n          &lt;/div&gt;\n        &lt;/div&gt;\n        ` : dialogCount &gt; 0 ? `\n        &lt;div style=\"color: #94a3b8; font-style: italic; font-size: 0.875rem;\"&gt;\n          üí¨ ${dialogCount} dialog turns recorded (full dialog data not available in current view)\n        &lt;/div&gt;\n        ` : ''}\n\n        &lt;div style=\"text-align: right;\"&gt;\n          &lt;button id=\"close-detail-btn\" style=\"background: #6366f1; color: white; border: none; padding: 0.5rem 1.5rem; border-radius: 0.5rem; cursor: pointer; font-weight: 600; transition: background 0.2s;\"&gt;\n            Close\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    `;\n\n    detailPanel.innerHTML = detailHTML;\n    detailPanel.style.display = 'block';\n    setTimeout(() =&gt; { detailPanel.style.opacity = '1'; }, 10);\n\n    // Attach close handler\n    const closeBtn = detailPanel.querySelector('#close-detail-btn');\n    if (closeBtn) {\n      closeBtn.onclick = () =&gt; {\n        detailPanel.style.opacity = '0';\n        setTimeout(() =&gt; { detailPanel.style.display = 'none'; }, 300);\n      };\n    }\n\n    detailPanel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n  };\n\n  // Observable invalidation cleanup\n  invalidation.then(() =&gt; {\n    if (container._timeline) {\n      container._timeline.destroy();\n    }\n  });\n\n  // Initialize timeline\n  setTimeout(() =&gt; {\n    // Create groups for each entity (swimlanes)\n    const groups = allEntities.map(entity =&gt; ({\n      id: entity,\n      content: `${entityIcons[entity.toLowerCase()] || 'üë§'} ${entity}`,\n      visible: selectedEntities.includes(entity),\n      className: `entity-group-${entity.toLowerCase()}`,\n      style: 'font-weight: 600; font-size: 14px;'\n    }));\n\n    // Create items - one item per entity per timepoint\n    const items = [];\n    timepoints.forEach((tp, idx) =&gt; {\n      const entities = tp.entities_present || tp.entities || [];\n      const timestamp = tp.timestamp || `2025-01-${String(idx + 1).padStart(2, '0')}`;\n      const importance = tp.importance !== undefined ? tp.importance : 0.5;\n      const [color1, color2] = getImportanceColor(importance);\n\n      // Create an item in each entity's swimlane for this timepoint\n      entities.forEach(entity =&gt; {\n        if (selectedEntities.includes(entity)) {\n          items.push({\n            id: `${idx}_${entity}`,\n            content: `${entityIcons[entity.toLowerCase()] || 'üë§'} ${tp.timepoint_id || `T${idx + 1}`}`,\n            start: new Date(timestamp),\n            group: entity,\n            type: 'box',\n            className: `timepoint-item tp-${idx}`,\n            style: `background: linear-gradient(135deg, ${color1} 0%, ${color2} 100%); border: 2px solid ${color1}; color: white; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; min-width: 120px; padding: 8px;`,\n            timepointIndex: idx\n          });\n        }\n      });\n    });\n\n    const options = {\n      height: 'auto',\n      margin: { item: { horizontal: 10, vertical: 8 } },\n      orientation: 'top',\n      showCurrentTime: false,\n      groupHeightMode: 'auto',\n      verticalScroll: true,\n      zoomKey: 'ctrlKey',\n      horizontalScroll: true,\n      timeAxis: { scale: 'month', step: 1 },\n      format: {\n        minorLabels: {\n          month: 'MMM',\n          year: 'YYYY'\n        },\n        majorLabels: {\n          month: 'YYYY',\n          year: ''\n        }\n      }\n    };\n\n    const timeline = new vis.Timeline(container, items, groups, options);\n    container._timeline = timeline;\n\n    // vis-timeline click event (primary)\n    timeline.on('click', function(properties) {\n      if (properties.item !== null && properties.item !== undefined) {\n        // Extract timepoint index from item id (format: \"idx_entity\")\n        const itemId = properties.item;\n        const itemData = items.find(i =&gt; i.id === itemId);\n        if (itemData && itemData.timepointIndex !== undefined) {\n          showDetailPanel(itemData.timepointIndex);\n        }\n      }\n    });\n\n    // DOM click event (fallback)\n    container.addEventListener('click', (e) =&gt; {\n      const item = e.target.closest('.vis-item');\n      if (item && timeline) {\n        // Look for timepoint class (tp-N)\n        const classList = Array.from(item.classList);\n        const tpClass = classList.find(c =&gt; c.startsWith('tp-'));\n        if (tpClass) {\n          const idx = parseInt(tpClass.replace('tp-', ''));\n          if (!isNaN(idx) && idx &gt;= 0 && idx &lt; timepoints.length) {\n            showDetailPanel(idx);\n          }\n        }\n      }\n    });\n\n    // Custom hover tooltip\n    let currentHoverIdx = null;\n    container.addEventListener('mousemove', (e) =&gt; {\n      const item = e.target.closest('.vis-item');\n      if (item) {\n        // Extract timepoint index from class\n        const classList = Array.from(item.classList);\n        const tpClass = classList.find(c =&gt; c.startsWith('tp-'));\n\n        if (tpClass) {\n          const idx = parseInt(tpClass.replace('tp-', ''));\n          if (!isNaN(idx) && idx &gt;= 0 && idx &lt; timepoints.length && idx !== currentHoverIdx) {\n            currentHoverIdx = idx;\n            tooltipDiv.innerHTML = buildTooltipHTML(timepoints[idx], idx);\n            tooltipDiv.style.display = 'block';\n          }\n        }\n\n        // Position tooltip near mouse\n        tooltipDiv.style.left = (e.pageX - wrapper.offsetLeft + 15) + 'px';\n        tooltipDiv.style.top = (e.pageY - wrapper.offsetTop - 80) + 'px';\n\n        // Add hover effect to all items for this timepoint\n        const allTpItems = container.querySelectorAll(`.${tpClass}`);\n        allTpItems.forEach(i =&gt; {\n          i.style.transform = 'scale(1.05)';\n          i.style.boxShadow = '0 4px 12px rgba(99, 102, 241, 0.4)';\n        });\n      } else {\n        tooltipDiv.style.display = 'none';\n        currentHoverIdx = null;\n\n        // Remove hover effects\n        const allItems = container.querySelectorAll('.vis-item');\n        allItems.forEach(i =&gt; {\n          i.style.transform = '';\n          i.style.boxShadow = '';\n        });\n      }\n    });\n\n    container.addEventListener('mouseleave', () =&gt; {\n      tooltipDiv.style.display = 'none';\n      currentHoverIdx = null;\n\n      // Remove hover effects\n      const allItems = container.querySelectorAll('.vis-item');\n      allItems.forEach(i =&gt; {\n        i.style.transform = '';\n        i.style.boxShadow = '';\n      });\n    });\n  }, 100);\n\n  return wrapper;\n}\n\nnetwork_viz = {\n  if (activeTab !== 'Network') return html`&lt;div&gt;&lt;/div&gt;`;\n\n  const container = html`&lt;div style=\"height: 600px; border: 1px solid #334155; border-radius: 8px; background: rgba(30, 41, 59, 0.6);\"&gt;&lt;/div&gt;`;\n\n  const characters = displayRun?.narrative?.characters || [];\n\n  if (characters.length === 0) {\n    const hasData = displayRun?.entities_created &gt; 0 || displayRun?.timepoints_created &gt; 0;\n    const message = hasData\n      ? '‚ö†Ô∏è Run has simulation data but narrative JSON not found. Visualization unavailable.'\n      : '‚ö†Ô∏è No character data available for this run';\n    container.innerHTML = `&lt;p style=\"padding: 40px; text-align: center; color: #cbd5e1;\"&gt;${message}&lt;/p&gt;`;\n    return container;\n  }\n\n  setTimeout(() =&gt; {\n    const nodes = characters.map(char =&gt; ({\n      data: {\n        id: char.entity_id,\n        label: char.entity_id.replace(/_/g, ' ')\n      }\n    }));\n\n    const edges = [];\n    characters.forEach(char =&gt; {\n      if (char.relationships) {\n        Object.entries(char.relationships).forEach(([target, rel]) =&gt; {\n          if (characters.find(c =&gt; c.entity_id === target)) {\n            edges.push({\n              data: { source: char.entity_id, target: target, label: rel }\n            });\n          }\n        });\n      }\n    });\n\n    cytoscape({\n      container: container,\n      elements: [...nodes, ...edges],\n      style: [\n        {\n          selector: 'node',\n          style: {\n            'background-color': '#6366f1',\n            'label': 'data(label)',\n            'text-valign': 'center',\n            'text-halign': 'center',\n            'font-size': '12px',\n            'color': '#f8fafc',\n            'width': 50,\n            'height': 50\n          }\n        },\n        {\n          selector: 'edge',\n          style: {\n            'width': 2,\n            'line-color': '#06b6d4',\n            'target-arrow-color': '#06b6d4',\n            'target-arrow-shape': 'triangle',\n            'curve-style': 'bezier',\n            'label': 'data(label)',\n            'font-size': '10px'\n          }\n        }\n      ],\n      layout: {\n        name: 'cose',\n        animate: true,\n        idealEdgeLength: 100\n      }\n    });\n  }, 100);\n\n  return container;\n}\n\nmetrics_viz = {\n  if (activeTab !== 'Metrics') return html`&lt;div&gt;&lt;/div&gt;`;\n\n  const container = html`&lt;div style=\"height: 600px;\"&gt;&lt;/div&gt;`;\n\n  const mechanisms = uniqueMechanisms || {};\n  const mechanismNames = Object.keys(mechanisms);\n  const mechanismValues = Object.values(mechanisms);\n\n  if (mechanismNames.length === 0) {\n    container.innerHTML = '&lt;p style=\"padding: 40px; text-align: center; color: #cbd5e1;\"&gt;‚ö†Ô∏è No mechanism data&lt;/p&gt;';\n    return container;\n  }\n\n  setTimeout(() =&gt; {\n    const chart = echarts.init(container);\n\n    chart.setOption({\n      title: {\n        text: 'Mechanism Coverage',\n        left: 'center',\n        top: 20,\n        textStyle: { fontSize: 20, fontWeight: 'bold', color: '#f8fafc' }\n      },\n      tooltip: { trigger: 'item' },\n      radar: {\n        indicator: mechanismNames.map(name =&gt; ({\n          name: name,\n          max: Math.max(...mechanismValues, 10)\n        })),\n        radius: '60%',\n        center: ['50%', '55%'],\n        splitLine: { lineStyle: { color: 'rgba(99, 102, 241, 0.2)' } },\n        axisLine: { lineStyle: { color: 'rgba(99, 102, 241, 0.3)' } },\n        name: { textStyle: { color: '#cbd5e1' } }\n      },\n      series: [{\n        type: 'radar',\n        data: [{\n          value: mechanismValues,\n          name: 'Usage Count',\n          areaStyle: { color: 'rgba(99, 102, 241, 0.3)' },\n          lineStyle: { color: 'rgba(99, 102, 241, 1)', width: 2 },\n          itemStyle: { color: 'rgba(99, 102, 241, 1)' }\n        }]\n      }]\n    });\n  }, 100);\n\n  return container;\n}"
  },
  {
    "objectID": "index.html#advanced-features-coming-soon",
    "href": "index.html#advanced-features-coming-soon",
    "title": "Timepoint Simulation Dashboard",
    "section": "üöß Advanced Features (Coming Soon)",
    "text": "üöß Advanced Features (Coming Soon)\nThe following features are planned for future implementation:\n\nPORTAL Mode Visualization\n\nBackward causality arrows showing path from portal to origin\nPivot point highlighting with alternate timeline branches\nPlausibility score heatmap for candidate paths\n\n\n\nRun Comparison\n\nSide-by-side timeline comparison for 2+ runs\nDiff view showing divergence points\nCost and mechanism usage comparison charts\n\n\n\nSearch & Filter\n\nFull-text search across entity knowledge and event descriptions\nFilter timepoints by date range, mechanism, or entity participation\nExport filtered datasets to JSON/CSV\n\n\n\nInteractive Exports\n\nPNG/SVG export of visualizations\nPDF report generation with embedded charts\nShareable dashboard links"
  },
  {
    "objectID": "index.html#refresh-data",
    "href": "index.html#refresh-data",
    "title": "Timepoint Simulation Dashboard",
    "section": "üîÑ Refresh Data",
    "text": "üîÑ Refresh Data\nTo update the dashboard with latest runs, run:\npython3.10 load_data.py\nThen refresh the browser to see updated data."
  },
  {
    "objectID": "QUICKSTART.html",
    "href": "QUICKSTART.html",
    "title": "",
    "section": "",
    "text": "Code"
  },
  {
    "objectID": "QUICKSTART.html#fixed-and-working",
    "href": "QUICKSTART.html#fixed-and-working",
    "title": "",
    "section": "‚úÖ Fixed and Working!",
    "text": "‚úÖ Fixed and Working!\nThe dashboard is now fully configured and tested. All Quarto/Python/Jupyter issues have been resolved."
  },
  {
    "objectID": "QUICKSTART.html#usage",
    "href": "QUICKSTART.html#usage",
    "title": "",
    "section": "üöÄ Usage",
    "text": "üöÄ Usage\n\n1. Refresh Data (Optional)\nUpdate the dashboard with your latest simulation runs:\ncd /Users/seanmcdonald/Documents/GitHub/timepoint-daedalus/dashboards\npython3.10 load_data.py\nOutput:\nLoading Timepoint simulation data...\nFound 20 recent runs\n‚úì Exported data to dashboard_data.json\n‚úì Selected run: run_20251103_132107_551ae766\n  - Template: portal_timepoint_unicorn\n  - Has narrative: False\n  - Mechanisms: 5\n\n\n2. View the Dashboard\nOption A: Preview with live reload\nquarto preview\nOpens browser at http://localhost:XXXX with auto-refresh on file changes.\nOption B: Render static site\nquarto render\nThen open _site/index.html in your browser.\nOption C: Open pre-rendered HTML\nopen _site/index.html"
  },
  {
    "objectID": "QUICKSTART.html#what-youll-see",
    "href": "QUICKSTART.html#what-youll-see",
    "title": "",
    "section": "üìä What You‚Äôll See",
    "text": "üìä What You‚Äôll See\n\nMain Dashboard (index.html)\n\nRun Selector - Dropdown showing 20 most recent runs\n\nFormat: template_id (date) - $cost\nCurrently defaults to most recent run\n\nMetadata Panel (left card)\n\nRun ID\nTemplate\nStatus (colored: green=completed, yellow=running, red=failed)\nCost (USD)\nStart/end timestamps\n\nStats Panel (right card)\n\nEntity count\nTimepoint count\nCausal mode (PEARL, PORTAL, DIRECTORIAL, etc.)\nMechanism count\n\nExecutive Summary\n\nNarrative overview from simulation JSON\n\nVisualization Tabs\n\nTimeline: Interactive vis-timeline chronological view\nNetwork: Cytoscape.js entity relationship graph\nMetrics: ECharts radar chart of mechanism coverage\nScreenplay: Stubbed Fountain viewer (shows raw content)\n\n\n\n\nAbout Page (about.html)\n\nSystem overview\nFeature list (implemented + stubbed)\nTechnical stack details\nAll 17 mechanism descriptions"
  },
  {
    "objectID": "QUICKSTART.html#configuration-fixed",
    "href": "QUICKSTART.html#configuration-fixed",
    "title": "",
    "section": "üîß Configuration Fixed",
    "text": "üîß Configuration Fixed\n\nIssues Resolved\n\n‚úÖ Jupyter kernel conflict - Configured to use python3.10 instead of python3.13\n‚úÖ CSS layer error - Moved styles.css from theme to css option\n‚úÖ Observable JS imports - Removed problematic CSS import, added to HTML head\n‚úÖ Data loading - Switched from Python execution to pre-generated JSON\n\n\n\nFiles Modified\n\n_quarto.yml - Added jupyter: python3.10, fixed CSS configuration\nindex.qmd - Changed to FileAttachment for JSON loading, removed CSS import\nload_data.py - New script to pre-generate dashboard data"
  },
  {
    "objectID": "QUICKSTART.html#generated-files",
    "href": "QUICKSTART.html#generated-files",
    "title": "",
    "section": "üìÅ Generated Files",
    "text": "üìÅ Generated Files\n_site/\n‚îú‚îÄ‚îÄ index.html              # Main dashboard (99KB)\n‚îú‚îÄ‚îÄ about.html              # About page (44KB)\n‚îú‚îÄ‚îÄ dashboard_data.json     # Pre-loaded run data (12KB)\n‚îú‚îÄ‚îÄ styles.css              # Custom styling (6.3KB)\n‚îú‚îÄ‚îÄ search.json             # Site search index\n‚îî‚îÄ‚îÄ site_libs/              # Quarto libraries"
  },
  {
    "objectID": "QUICKSTART.html#customization",
    "href": "QUICKSTART.html#customization",
    "title": "",
    "section": "üé® Customization",
    "text": "üé® Customization\n\nChange Data\nEdit load_data.py to: - Change number of runs loaded (limit=20) - Filter which runs to show - Add additional data fields\nThen run:\npython3.10 load_data.py\nquarto render\n\n\nChange Styling\nEdit styles.css variables:\n:root {\n  --primary-purple: #6366f1;  /* Change to your color */\n  --primary-cyan: #06b6d4;    /* Change to your color */\n  --dark-bg: #0f172a;         /* Background color */\n}\nThen:\nquarto render\n\n\nAdd Visualizations\nEdit index.qmd Observable JS sections to add new charts/graphs."
  },
  {
    "objectID": "QUICKSTART.html#next-steps",
    "href": "QUICKSTART.html#next-steps",
    "title": "",
    "section": "üöß Next Steps",
    "text": "üöß Next Steps\n\nStubbed Features Ready to Implement\nAll have UI placeholders with TODO comments in index.qmd:\n\nPORTAL Mode Visualization (lines 396-399)\n\nBackward causality arrows\nPivot point highlighting\nPlausibility heatmaps\n\nRun Comparison (lines 401-404)\n\nSide-by-side timelines\nDiff visualization\nCost comparison charts\n\nFountain Viewer (lines 359-387)\n\nParse .fountain files\nRender as formatted screenplay\nScene navigation\n\nSearch & Filter (lines 406-409)\n\nFull-text search\nDate range filtering\nEntity/mechanism filtering\n\nExport Tools (lines 411-414)\n\nPNG/SVG exports\nPDF reports\nShareable links"
  },
  {
    "objectID": "QUICKSTART.html#tips",
    "href": "QUICKSTART.html#tips",
    "title": "",
    "section": "üí° Tips",
    "text": "üí° Tips\n\nPerformance\n\nDashboard loads instantly (static HTML + JSON)\nNo server required\nCan deploy to any static host (GitHub Pages, Netlify, etc.)\n\n\n\nData Freshness\n\nRun python3.10 load_data.py after each simulation batch\nOr automate with cron/scheduler\nConsider adding timestamp to dashboard showing data age\n\n\n\nDevelopment\nUse quarto preview for live development: - Auto-refreshes on file save - Hot module reload for Observable JS - Shows render errors in browser console"
  },
  {
    "objectID": "QUICKSTART.html#verification",
    "href": "QUICKSTART.html#verification",
    "title": "",
    "section": "‚úÖ Verification",
    "text": "‚úÖ Verification\nTest the dashboard:\ncd /Users/seanmcdonald/Documents/GitHub/timepoint-daedalus/dashboards\n\n# 1. Generate data\npython3.10 load_data.py\n\n# 2. Render site\nquarto render\n\n# 3. Open in browser\nopen _site/index.html\nYou should see: - ‚úÖ Run selector with 20 runs - ‚úÖ Metadata and stats cards - ‚úÖ Mechanism radar chart (5 mechanisms for sample run) - ‚úÖ Purple/cyan gradient theme - ‚úÖ Smooth animations on hover\n\nDashboard Status: üü¢ Fully Operational\nAll core features implemented and tested. Ready for production use!"
  },
  {
    "objectID": "index.html#run-overview",
    "href": "index.html#run-overview",
    "title": "Timepoint Simulation Dashboard",
    "section": "Run Overview",
    "text": "Run Overview\n\n\nüìä Run Metadata\n\nhtml`\n&lt;div class=\"metadata-card\"&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Run ID:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;&lt;code&gt;${displayRun?.run_id || 'N/A'}&lt;/code&gt;&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Template:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${displayRun?.template_id || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Status:&lt;/span&gt;\n    &lt;span class=\"value status-${displayRun?.status?.toLowerCase()}\"&gt;${displayRun?.status || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Causal Mode:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${displayRun?.causal_mode || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Cost:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;$${displayRun?.cost_usd?.toFixed(3) || '0.000'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Started:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${displayRun?.started_at?.substring(0,19).replace('T',' ') || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Completed:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${displayRun?.completed_at?.substring(0,19).replace('T',' ') || 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n  &lt;div class=\"metadata-row\"&gt;\n    &lt;span class=\"label\"&gt;Duration:&lt;/span&gt;\n    &lt;span class=\"value\"&gt;${displayRun?.duration_seconds ? Math.round(displayRun.duration_seconds) + 's' : 'N/A'}&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\nüéØ Simulation Stats\n\nhtml`\n&lt;div class=\"stats-card\"&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${displayRun?.entities_created || 0}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Entities&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${displayRun?.timepoints_created || 0}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Timepoints&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${displayRun?.llm_calls || 0}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;LLM Calls&lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"stat-box\"&gt;\n    &lt;div class=\"stat-value\"&gt;${displayRun?.tokens_used ? Math.round(displayRun.tokens_used / 1000) + 'k' : '0'}&lt;/div&gt;\n    &lt;div class=\"stat-label\"&gt;Tokens&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\nüîß Mechanisms Used\n\nmechanismsUsed = displayRun?.mechanism_usage || []\nuniqueMechanisms = mechanismsUsed.reduce((acc, m) =&gt; {\n  const name = m.mechanism;\n  acc[name] = (acc[name] || 0) + 1;\n  return acc;\n}, {})\n\nhtml`&lt;div class=\"mechanisms-grid\"&gt;\n  ${Object.entries(uniqueMechanisms).map(([name, count]) =&gt;\n    html`&lt;span class=\"mechanism-badge\" title=\"${count} uses\"&gt;${name} (${count})&lt;/span&gt;`\n  ).join('')}\n  ${Object.keys(uniqueMechanisms).length === 0 ? '&lt;span class=\"text-muted\"&gt;No mechanisms tracked&lt;/span&gt;' : ''}\n&lt;/div&gt;\n\n&lt;style&gt;\n  .mechanisms-grid {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    margin-top: 0.5rem;\n  }\n\n  .mechanism-badge {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 0.35rem 0.75rem;\n    border-radius: 1rem;\n    font-size: 0.875rem;\n    font-weight: 600;\n  }\n&lt;/style&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n‚öôÔ∏è Temporal Model & Fidelity Strategy\n\nfidelityStrategy = displayRun?.fidelity_strategy_json\n  ? (typeof displayRun.fidelity_strategy_json === 'string'\n      ? JSON.parse(displayRun.fidelity_strategy_json)\n      : displayRun.fidelity_strategy_json)\n  : null\n\nhtml`${fidelityStrategy ? `\n  &lt;div style=\"display: grid; gap: 1rem;\"&gt;\n    &lt;div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;\"&gt;\n      &lt;div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1rem; border-radius: 8px; color: white;\"&gt;\n        &lt;div style=\"font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.25rem;\"&gt;Causality Mode&lt;/div&gt;\n        &lt;div style=\"font-size: 1.5rem; font-weight: 700; text-transform: uppercase;\"&gt;${fidelityStrategy.mode || displayRun.causal_mode}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div style=\"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); padding: 1rem; border-radius: 8px; color: white;\"&gt;\n        &lt;div style=\"font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.25rem;\"&gt;Planning Mode&lt;/div&gt;\n        &lt;div style=\"font-size: 1.5rem; font-weight: 700; text-transform: capitalize;\"&gt;${fidelityStrategy.planning_mode || 'N/A'}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div style=\"background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); padding: 1rem; border-radius: 8px; color: white;\"&gt;\n        &lt;div style=\"font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.25rem;\"&gt;Token Budget&lt;/div&gt;\n        &lt;div style=\"font-size: 1.5rem; font-weight: 700;\"&gt;${fidelityStrategy.token_budget ? Math.round(fidelityStrategy.token_budget).toLocaleString() : 'N/A'}&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div style=\"background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); padding: 1rem; border-radius: 8px; color: white;\"&gt;\n        &lt;div style=\"font-size: 0.875rem; opacity: 0.9; margin-bottom: 0.25rem;\"&gt;Budget Compliance&lt;/div&gt;\n        &lt;div style=\"font-size: 1.5rem; font-weight: 700;\"&gt;${displayRun.token_budget_compliance ? (displayRun.token_budget_compliance * 100).toFixed(1) + '%' : 'N/A'}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    ${fidelityStrategy.fidelity_schedule ? `\n    &lt;div style=\"background: rgba(30, 41, 59, 0.5); padding: 1rem; border-radius: 8px; border: 1px solid #475569;\"&gt;\n      &lt;div style=\"font-weight: 600; margin-bottom: 0.75rem; color: #cbd5e1;\"&gt;Fidelity Schedule (Temporal Resolution per Timepoint)&lt;/div&gt;\n      &lt;div style=\"display: flex; flex-wrap: wrap; gap: 0.5rem;\"&gt;\n        ${fidelityStrategy.fidelity_schedule.map((res, idx) =&gt; {\n          const colors = {\n            'trained': '#22c55e',\n            'dialog': '#3b82f6',\n            'graph': '#8b5cf6',\n            'scene': '#ec4899',\n            'tensor_only': '#64748b'\n          };\n          const color = colors[res] || '#94a3b8';\n          return `&lt;div style=\"background: ${color}; color: white; padding: 0.4rem 0.75rem; border-radius: 4px; font-size: 0.875rem; font-weight: 600;\" title=\"Timepoint ${idx + 1}: ${res}\"&gt;\n            ${idx + 1}: ${res}\n          &lt;/div&gt;`;\n        }).join('')}\n      &lt;/div&gt;\n      &lt;div style=\"margin-top: 0.75rem; font-size: 0.75rem; color: #94a3b8;\"&gt;\n        &lt;span style=\"margin-right: 1rem;\"&gt;üü¢ Trained&lt;/span&gt;\n        &lt;span style=\"margin-right: 1rem;\"&gt;üîµ Dialog&lt;/span&gt;\n        &lt;span style=\"margin-right: 1rem;\"&gt;üü£ Graph&lt;/span&gt;\n        &lt;span style=\"margin-right: 1rem;\"&gt;ü©∑ Scene&lt;/span&gt;\n        &lt;span&gt;‚ö™ Tensor Only&lt;/span&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    ` : ''}\n\n    ${fidelityStrategy.allocation_rationale ? `\n    &lt;div style=\"background: rgba(99, 102, 241, 0.1); padding: 1rem; border-radius: 8px; border-left: 4px solid #6366f1;\"&gt;\n      &lt;div style=\"font-weight: 600; margin-bottom: 0.5rem; color: #a78bfa;\"&gt;Strategy Rationale&lt;/div&gt;\n      &lt;div style=\"color: #cbd5e1; font-size: 0.875rem;\"&gt;${fidelityStrategy.allocation_rationale}&lt;/div&gt;\n    &lt;/div&gt;\n    ` : ''}\n  &lt;/div&gt;\n` : '&lt;p style=\"color: #94a3b8; font-style: italic;\"&gt;No fidelity strategy data available for this run (schema &lt; 2.0)&lt;/p&gt;'}`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nüìù Executive Summary\n\nmd`${displayRun?.narrative?.executive_summary || (displayRun?.timepoints_created &gt; 0 ? '*Narrative JSON file not found. Run has data in database but needs export.*' : '*No narrative available for this run.*')}`"
  },
  {
    "objectID": "index.html#detailed-analysis",
    "href": "index.html#detailed-analysis",
    "title": "Timepoint Simulation Dashboard",
    "section": "Detailed Analysis",
    "text": "Detailed Analysis\n\nResolution AssignmentsValidationsMechanism Timeline\n\n\n\nresolutions = displayRun?.resolution_assignments || []\n\nhtml`&lt;div style=\"max-height: 400px; overflow-y: auto;\"&gt;\n  &lt;table style=\"width: 100%; border-collapse: collapse;\"&gt;\n    &lt;thead style=\"position: sticky; top: 0; background: #f8f9fa;\"&gt;\n      &lt;tr&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Entity ID&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Resolution&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Timepoint&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Timestamp&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      ${resolutions.length &gt; 0 ? resolutions.map(r =&gt; html`&lt;tr&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;code&gt;${r.entity_id}&lt;/code&gt;&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;${r.resolution}&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;${r.timepoint_id || 'N/A'}&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;small&gt;${r.timestamp}&lt;/small&gt;&lt;/td&gt;\n      &lt;/tr&gt;`).join('') : '&lt;tr&gt;&lt;td colspan=\"4\" style=\"padding: 2rem; text-align: center; color: #6c757d;\"&gt;No resolution assignments&lt;/td&gt;&lt;/tr&gt;'}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvalidations = displayRun?.validations || []\n\nhtml`&lt;div style=\"max-height: 400px; overflow-y: auto;\"&gt;\n  &lt;table style=\"width: 100%; border-collapse: collapse;\"&gt;\n    &lt;thead style=\"position: sticky; top: 0; background: #f8f9fa;\"&gt;\n      &lt;tr&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Validator&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Result&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Message&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Timestamp&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      ${validations.length &gt; 0 ? validations.map(v =&gt; html`&lt;tr&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;${v.validator_name}&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;\n          &lt;span style=\"color: ${v.passed ? '#28a745' : '#dc3545'}; font-weight: 600;\"&gt;\n            ${v.passed ? '‚úì Passed' : '‚úó Failed'}\n          &lt;/span&gt;\n        &lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;${v.message || ''}&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;small&gt;${v.timestamp}&lt;/small&gt;&lt;/td&gt;\n      &lt;/tr&gt;`).join('') : '&lt;tr&gt;&lt;td colspan=\"4\" style=\"padding: 2rem; text-align: center; color: #6c757d;\"&gt;No validations&lt;/td&gt;&lt;/tr&gt;'}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nhtml`&lt;div style=\"max-height: 400px; overflow-y: auto;\"&gt;\n  &lt;table style=\"width: 100%; border-collapse: collapse;\"&gt;\n    &lt;thead style=\"position: sticky; top: 0; background: #f8f9fa;\"&gt;\n      &lt;tr&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Mechanism&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Function&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Context&lt;/th&gt;\n        &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Timestamp&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      ${mechanismsUsed.length &gt; 0 ? mechanismsUsed.map(m =&gt; html`&lt;tr&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;strong&gt;${m.mechanism}&lt;/strong&gt;&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;code style=\"font-size: 0.875rem;\"&gt;${m.function_name}&lt;/code&gt;&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;small&gt;${m.context || ''}&lt;/small&gt;&lt;/td&gt;\n        &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;&lt;small&gt;${m.timestamp}&lt;/small&gt;&lt;/td&gt;\n      &lt;/tr&gt;`).join('') : '&lt;tr&gt;&lt;td colspan=\"4\" style=\"padding: 2rem; text-align: center; color: #6c757d;\"&gt;No mechanism usage tracked&lt;/td&gt;&lt;/tr&gt;'}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;`"
  },
  {
    "objectID": "analytics.html",
    "href": "analytics.html",
    "title": "Meta-Analytics",
    "section": "",
    "text": "Navigation\n\n\n\n‚Üê Browse Runs | Dashboard\nCode\nAPI_BASE = \"http://localhost:8000\"\n\n// Fetch meta-analytics\nanalytics = {\n  const response = await fetch(`${API_BASE}/api/meta-analytics`);\n  return await response.json();\n}"
  },
  {
    "objectID": "analytics.html#overview-metrics",
    "href": "analytics.html#overview-metrics",
    "title": "Meta-Analytics",
    "section": "Overview Metrics",
    "text": "Overview Metrics\n\n\n\n\nCode\nhtml`\n&lt;div class=\"metric-card\"&gt;\n  &lt;div class=\"metric-value\"&gt;${analytics.total_runs || 0}&lt;/div&gt;\n  &lt;div class=\"metric-label\"&gt;Total Runs&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;style&gt;\n  .metric-card {\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 1.5rem;\n    border-radius: 0.5rem;\n    text-align: center;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .metric-value {\n    font-size: 2.5rem;\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n  }\n\n  .metric-label {\n    font-size: 0.875rem;\n    opacity: 0.9;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n  }\n&lt;/style&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div class=\"metric-card\" style=\"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\"&gt;\n  &lt;div class=\"metric-value\"&gt;$${(analytics.total_cost || 0).toFixed(2)}&lt;/div&gt;\n  &lt;div class=\"metric-label\"&gt;Total Cost&lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div class=\"metric-card\" style=\"background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\"&gt;\n  &lt;div class=\"metric-value\"&gt;${((analytics.success_rate || 0) * 100).toFixed(1)}%&lt;/div&gt;\n  &lt;div class=\"metric-label\"&gt;Success Rate&lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div class=\"metric-card\" style=\"background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);\"&gt;\n  &lt;div class=\"metric-value\"&gt;$${(analytics.avg_cost || 0).toFixed(3)}&lt;/div&gt;\n  &lt;div class=\"metric-label\"&gt;Avg Cost&lt;/div&gt;\n&lt;/div&gt;\n`"
  },
  {
    "objectID": "analytics.html#run-statistics",
    "href": "analytics.html#run-statistics",
    "title": "Meta-Analytics",
    "section": "Run Statistics",
    "text": "Run Statistics\n\n\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; text-align: center;\"&gt;\n  &lt;div style=\"font-size: 1.5rem; font-weight: bold; color: #28a745;\"&gt;${analytics.completed_runs || 0}&lt;/div&gt;\n  &lt;div style=\"font-size: 0.875rem; color: #6c757d;\"&gt;Completed&lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; text-align: center;\"&gt;\n  &lt;div style=\"font-size: 1.5rem; font-weight: bold; color: #dc3545;\"&gt;${analytics.failed_runs || 0}&lt;/div&gt;\n  &lt;div style=\"font-size: 0.875rem; color: #6c757d;\"&gt;Failed&lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; text-align: center;\"&gt;\n  &lt;div style=\"font-size: 1.5rem; font-weight: bold; color: #6366f1;\"&gt;${analytics.total_entities || 0}&lt;/div&gt;\n  &lt;div style=\"font-size: 0.875rem; color: #6c757d;\"&gt;Total Entities&lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; text-align: center;\"&gt;\n  &lt;div style=\"font-size: 1.5rem; font-weight: bold; color: #6366f1;\"&gt;${analytics.total_timepoints || 0}&lt;/div&gt;\n  &lt;div style=\"font-size: 0.875rem; color: #6c757d;\"&gt;Total Timepoints&lt;/div&gt;\n&lt;/div&gt;\n`"
  },
  {
    "objectID": "analytics.html#cost-analysis",
    "href": "analytics.html#cost-analysis",
    "title": "Meta-Analytics",
    "section": "Cost Analysis",
    "text": "Cost Analysis\n\n\nCode\ncost_chart = {\n  const container = html`&lt;div style=\"height: 400px;\"&gt;&lt;/div&gt;`;\n\n  const costData = analytics.cost_over_time || [];\n\n  if (costData.length === 0) {\n    container.innerHTML = '&lt;p style=\"padding: 2rem; text-align: center;\"&gt;No cost data available&lt;/p&gt;';\n    return container;\n  }\n\n  setTimeout(() =&gt; {\n    const chart = echarts.init(container);\n\n    const dates = costData.map(d =&gt; d.date).reverse();\n    const costs = costData.map(d =&gt; d.total_cost).reverse();\n    const counts = costData.map(d =&gt; d.run_count).reverse();\n\n    chart.setOption({\n      title: {\n        text: 'Cost Over Time (Last 30 Days)',\n        left: 'center',\n        textStyle: { fontSize: 18, fontWeight: 'bold' }\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: { type: 'cross' }\n      },\n      legend: {\n        data: ['Total Cost', 'Run Count'],\n        bottom: 10\n      },\n      xAxis: {\n        type: 'category',\n        data: dates,\n        axisLabel: { rotate: 45 }\n      },\n      yAxis: [\n        {\n          type: 'value',\n          name: 'Cost ($)',\n          position: 'left',\n          axisLabel: { formatter: '${value}' }\n        },\n        {\n          type: 'value',\n          name: 'Runs',\n          position: 'right'\n        }\n      ],\n      series: [\n        {\n          name: 'Total Cost',\n          type: 'bar',\n          data: costs,\n          itemStyle: { color: '#667eea' }\n        },\n        {\n          name: 'Run Count',\n          type: 'line',\n          yAxisIndex: 1,\n          data: counts,\n          itemStyle: { color: '#f5576c' },\n          lineStyle: { width: 2 }\n        }\n      ]\n    });\n\n    window.addEventListener('resize', () =&gt; chart.resize());\n  }, 100);\n\n  return container;\n}"
  },
  {
    "objectID": "analytics.html#template-performance",
    "href": "analytics.html#template-performance",
    "title": "Meta-Analytics",
    "section": "Template Performance",
    "text": "Template Performance\n\n\nCode\ntemplate_chart = {\n  const container = html`&lt;div style=\"height: 400px;\"&gt;&lt;/div&gt;`;\n\n  const templates = analytics.top_templates || [];\n\n  if (templates.length === 0) {\n    container.innerHTML = '&lt;p style=\"padding: 2rem; text-align: center;\"&gt;No template data available&lt;/p&gt;';\n    return container;\n  }\n\n  setTimeout(() =&gt; {\n    const chart = echarts.init(container);\n\n    const templateNames = templates.map(t =&gt; t.template_id);\n    const templateCounts = templates.map(t =&gt; t.count);\n\n    chart.setOption({\n      title: {\n        text: 'Top Templates by Usage',\n        left: 'center',\n        textStyle: { fontSize: 18, fontWeight: 'bold' }\n      },\n      tooltip: {\n        trigger: 'axis',\n        axisPointer: { type: 'shadow' }\n      },\n      xAxis: {\n        type: 'value'\n      },\n      yAxis: {\n        type: 'category',\n        data: templateNames,\n        axisLabel: { interval: 0 }\n      },\n      series: [{\n        type: 'bar',\n        data: templateCounts,\n        itemStyle: {\n          color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n            { offset: 0, color: '#667eea' },\n            { offset: 1, color: '#764ba2' }\n          ])\n        },\n        label: {\n          show: true,\n          position: 'right',\n          formatter: '{c} runs'\n        }\n      }]\n    });\n\n    window.addEventListener('resize', () =&gt; chart.resize());\n  }, 100);\n\n  return container;\n}"
  },
  {
    "objectID": "analytics.html#causal-mode-distribution",
    "href": "analytics.html#causal-mode-distribution",
    "title": "Meta-Analytics",
    "section": "Causal Mode Distribution",
    "text": "Causal Mode Distribution\n\n\nCode\ncausal_chart = {\n  const container = html`&lt;div style=\"height: 400px;\"&gt;&lt;/div&gt;`;\n\n  const modes = analytics.causal_mode_distribution || [];\n\n  if (modes.length === 0) {\n    container.innerHTML = '&lt;p style=\"padding: 2rem; text-align: center;\"&gt;No causal mode data available&lt;/p&gt;';\n    return container;\n  }\n\n  setTimeout(() =&gt; {\n    const chart = echarts.init(container);\n\n    chart.setOption({\n      title: {\n        text: 'Causal Mode Distribution',\n        left: 'center',\n        textStyle: { fontSize: 18, fontWeight: 'bold' }\n      },\n      tooltip: {\n        trigger: 'item',\n        formatter: '{b}: {c} runs ({d}%)'\n      },\n      legend: {\n        orient: 'vertical',\n        left: 'left'\n      },\n      series: [{\n        type: 'pie',\n        radius: ['40%', '70%'],\n        avoidLabelOverlap: false,\n        itemStyle: {\n          borderRadius: 10,\n          borderColor: '#fff',\n          borderWidth: 2\n        },\n        label: {\n          show: true,\n          formatter: '{b}: {c}'\n        },\n        emphasis: {\n          label: {\n            show: true,\n            fontSize: 16,\n            fontWeight: 'bold'\n          }\n        },\n        data: modes.map((m, idx) =&gt; ({\n          value: m.count,\n          name: m.causal_mode,\n          itemStyle: {\n            color: ['#667eea', '#764ba2', '#f093fb', '#4facfe'][idx % 4]\n          }\n        }))\n      }]\n    });\n\n    window.addEventListener('resize', () =&gt; chart.resize());\n  }, 100);\n\n  return container;\n}"
  },
  {
    "objectID": "analytics.html#mechanism-co-occurrence-network",
    "href": "analytics.html#mechanism-co-occurrence-network",
    "title": "Meta-Analytics",
    "section": "Mechanism Co-Occurrence Network",
    "text": "Mechanism Co-Occurrence Network\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;\"&gt;\n  &lt;strong&gt;Top Mechanism Pairs&lt;/strong&gt;&lt;br/&gt;\n  &lt;small&gt;Mechanisms that frequently appear together in runs&lt;/small&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\nCode\ncooccurrence_table = {\n  const pairs = analytics.mechanism_co_occurrence || [];\n\n  if (pairs.length === 0) {\n    return html`&lt;p style=\"padding: 2rem; text-align: center;\"&gt;No co-occurrence data available&lt;/p&gt;`;\n  }\n\n  return html`&lt;div style=\"max-height: 400px; overflow-y: auto;\"&gt;\n    &lt;table style=\"width: 100%; border-collapse: collapse;\"&gt;\n      &lt;thead style=\"position: sticky; top: 0; background: #f8f9fa;\"&gt;\n        &lt;tr&gt;\n          &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Mechanism 1&lt;/th&gt;\n          &lt;th style=\"padding: 0.5rem; text-align: left; border-bottom: 2px solid #dee2e6;\"&gt;Mechanism 2&lt;/th&gt;\n          &lt;th style=\"padding: 0.5rem; text-align: right; border-bottom: 2px solid #dee2e6;\"&gt;Co-Occurrence&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n      &lt;tbody&gt;\n        ${pairs.slice(0, 20).map(p =&gt; html`&lt;tr&gt;\n          &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;\n            &lt;span style=\"background: #667eea; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem;\"&gt;\n              ${p.mechanism1}\n            &lt;/span&gt;\n          &lt;/td&gt;\n          &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6;\"&gt;\n            &lt;span style=\"background: #764ba2; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem;\"&gt;\n              ${p.mechanism2}\n            &lt;/span&gt;\n          &lt;/td&gt;\n          &lt;td style=\"padding: 0.5rem; border-bottom: 1px solid #dee2e6; text-align: right; font-weight: 600;\"&gt;\n            ${p.co_occurrence}\n          &lt;/td&gt;\n        &lt;/tr&gt;`).join('')}\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;`;\n}"
  },
  {
    "objectID": "runs.html",
    "href": "runs.html",
    "title": "Run Selection",
    "section": "",
    "text": "Code\nAPI_BASE = \"http://localhost:8000\"\n\n// Test API connection\napiStatus = {\n  try {\n    const response = await fetch(`${API_BASE}/`);\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    const data = await response.json();\n    console.log('API Status:', data);\n    return data.status === 'ok';\n  } catch (error) {\n    console.error('API connection failed:', error);\n    return false;\n  }\n}\n\n// Fetch templates for filter dropdown\ntemplates = {\n  if (!apiStatus) {\n    console.error('API not available');\n    return [];\n  }\n  try {\n    const response = await fetch(`${API_BASE}/api/templates`);\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    const data = await response.json();\n    return data.templates;\n  } catch (error) {\n    console.error('Failed to fetch templates:', error);\n    return [];\n  }\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\napiStatusMessage = apiStatus\n  ? html``\n  : html`&lt;div class=\"alert alert-danger\" role=\"alert\"&gt;\n      &lt;strong&gt;‚ö†Ô∏è API Connection Failed&lt;/strong&gt;&lt;br/&gt;\n      Cannot connect to backend API at ${API_BASE}.&lt;br/&gt;\n      Please ensure the API server is running: &lt;code&gt;cd dashboards && ./backend.sh&lt;/code&gt;\n    &lt;/div&gt;`\n\n\n\n\n\n\n\n\n\nFilters\n\n\nCode\nviewof templateFilter = Inputs.select(\n  [\"All\"].concat(templates || []),\n  {label: \"Template\", value: \"All\"}\n)\n\nviewof statusFilter = Inputs.select(\n  [\"All\", \"completed\", \"running\", \"failed\"],\n  {label: \"Status\", value: \"All\"}\n)\n\nviewof causalModeFilter = Inputs.select(\n  [\"All\", \"STANDARD\", \"PORTAL\"],\n  {label: \"Causal Mode\", value: \"All\"}\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof dateFromFilter = Inputs.date({\n  label: \"Date From\",\n  value: null\n})\n\nviewof dateToFilter = Inputs.date({\n  label: \"Date To\",\n  value: null\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof minCostFilter = Inputs.range(\n  [0, 100],\n  {label: \"Min Cost ($)\", step: 0.1, value: 0}\n)\n\nviewof maxCostFilter = Inputs.range(\n  [0, 100],\n  {label: \"Max Cost ($)\", step: 0.1, value: 100}\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof minEntitiesFilter = Inputs.range(\n  [0, 100],\n  {label: \"Min Entities\", step: 1, value: 0}\n)\n\nviewof minTimepointsFilter = Inputs.range(\n  [0, 100],\n  {label: \"Min Timepoints\", step: 1, value: 0}\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof mechanismFilter = Inputs.text({\n  label: \"Mechanisms (comma-separated, e.g. M1,M5,M17)\",\n  placeholder: \"M1,M5,M17\"\n})\n\n\n\n\n\n\n\n\n\n\nCode\nviewof searchQuery = Inputs.text({\n  label: \"Search Run ID\",\n  placeholder: \"Search by run ID...\"\n})\n\nviewof onlyCompleteData = Inputs.checkbox(\n  [\"Show only runs likely to have visualizations\"],\n  {label: \"Data Filter\", value: []}\n)\n\nhtml`&lt;div style=\"font-size: 0.75rem; color: #6c757d; margin-top: 0.25rem; margin-left: 1.5rem;\"&gt;\n  Filters to completed runs with entities and timepoints in database.&lt;br/&gt;\n  &lt;em&gt;Note: Some runs may still lack exported narrative files.&lt;/em&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRuns\n\n\nCode\nsortFieldOptions = [\n  {label: \"Date Started\", value: \"started_at\"},\n  {label: \"Date Completed\", value: \"completed_at\"},\n  {label: \"Cost\", value: \"cost_usd\"},\n  {label: \"Entities\", value: \"entities_created\"},\n  {label: \"Timepoints\", value: \"timepoints_created\"},\n  {label: \"Duration\", value: \"duration_seconds\"}\n]\n\nviewof sortField = Inputs.select(\n  sortFieldOptions.map(d =&gt; d.value),\n  {\n    label: \"Sort By\",\n    value: \"started_at\",\n    format: (value) =&gt; sortFieldOptions.find(d =&gt; d.value === value)?.label || value\n  }\n)\n\nviewof sortOrder = Inputs.select(\n  [\"DESC\", \"ASC\"],\n  {label: \"Order\", value: \"DESC\"}\n)\n\nviewof pageLimit = Inputs.select(\n  [10, 25, 50, 100],\n  {label: \"Per Page\", value: 50}\n)\n\nviewof currentPage = Inputs.number({\n  label: \"Page\",\n  value: 1,\n  min: 1,\n  step: 1\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nqueryParams = {\n  const params = new URLSearchParams();\n\n  if (templateFilter !== \"All\") params.append(\"template\", templateFilter);\n  if (statusFilter !== \"All\") params.append(\"status\", statusFilter);\n  if (causalModeFilter !== \"All\") params.append(\"causal_mode\", causalModeFilter);\n  if (dateFromFilter) params.append(\"date_from\", dateFromFilter.toISOString());\n  if (dateToFilter) params.append(\"date_to\", dateToFilter.toISOString());\n  if (minCostFilter &gt; 0) params.append(\"min_cost\", minCostFilter);\n  if (maxCostFilter &lt; 100) params.append(\"max_cost\", maxCostFilter);\n  if (minEntitiesFilter &gt; 0) params.append(\"min_entities\", minEntitiesFilter);\n  if (minTimepointsFilter &gt; 0) params.append(\"min_timepoints\", minTimepointsFilter);\n  if (mechanismFilter) params.append(\"mechanisms\", mechanismFilter);\n\n  params.append(\"sort_by\", sortField);\n  params.append(\"order\", sortOrder);\n  params.append(\"page\", currentPage);\n  params.append(\"limit\", pageLimit);\n\n  return params;\n}\n\n// Fetch runs data\nrunsData = {\n  try {\n    const response = await fetch(`${API_BASE}/api/runs?${queryParams}`);\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Failed to fetch runs:', error);\n    return {runs: [], total: 0, pages: 1};\n  }\n}\n\n// Extract values for display\nruns = runsData.runs || []\ntotalRuns = runsData.total || 0\ntotalPages = runsData.pages || 1\n\n// Check if run has complete visualization data\n// A run needs: completed status, cost (ran), entities & timepoints (has data)\n// Timepoints &gt; 2 ensures there's actual timeline data for visualization\nhasCompleteData = (run) =&gt; {\n  return run.status === 'completed' &&\n         run.cost_usd &gt; 0 &&\n         run.entities_created &gt; 0 &&\n         run.timepoints_created &gt; 2  // Need at least 3 timepoints for meaningful visualization\n}\n\n// Filter by search query and data completeness (client-side)\nfilteredRuns = runs.filter(r =&gt; {\n  // Search filter\n  if (searchQuery && !r.run_id.toLowerCase().includes(searchQuery.toLowerCase())) {\n    return false\n  }\n\n  // Data completeness filter\n  if (onlyCompleteData.length &gt; 0 && !hasCompleteData(r)) {\n    return false\n  }\n\n  return true\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ncompleteCount = filteredRuns.filter(r =&gt; hasCompleteData(r)).length\nincompleteCount = filteredRuns.length - completeCount\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShowing  of  runs (Page  of )\n‚úì  complete ‚óã  incomplete\n\n\nCode\nhtml`&lt;div class=\"table-container\"&gt;\n  &lt;table class=\"runs-table\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Data&lt;/th&gt;\n        &lt;th&gt;Run ID&lt;/th&gt;\n        &lt;th&gt;Template&lt;/th&gt;\n        &lt;th&gt;Started&lt;/th&gt;\n        &lt;th&gt;Cost&lt;/th&gt;\n        &lt;th&gt;Entities&lt;/th&gt;\n        &lt;th&gt;TPs&lt;/th&gt;\n        &lt;th&gt;Status&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      ${filteredRuns.length === 0\n        ? `&lt;tr&gt;&lt;td colspan=\"8\" style=\"text-align: center; padding: 2rem; color: #6c757d;\"&gt;No runs found&lt;/td&gt;&lt;/tr&gt;`\n        : filteredRuns.map(run =&gt; {\n          const cost = run.cost_usd ? `$${run.cost_usd.toFixed(2)}` : '$0.00';\n          const started = new Date(run.started_at).toLocaleDateString() + ' ' +\n                          new Date(run.started_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n\n          const statusClass = run.status === 'completed' ? 'status-completed'\n            : run.status === 'failed' ? 'status-failed'\n            : 'status-running';\n\n          const isComplete = hasCompleteData(run);\n          const dataIcon = isComplete\n            ? '&lt;span class=\"data-complete\" title=\"Complete visualization data available\"&gt;‚úì&lt;/span&gt;'\n            : '&lt;span class=\"data-incomplete\" title=\"Incomplete data - may not have visualizations\"&gt;‚óã&lt;/span&gt;';\n\n          return `&lt;tr\n            class=\"run-row\"\n            onclick=\"window.location.href='index.html?run_id=${run.run_id}'\"\n            style=\"cursor: pointer;\"\n          &gt;\n            &lt;td class=\"data-cell\"&gt;${dataIcon}&lt;/td&gt;\n            &lt;td&gt;&lt;code class=\"run-id\"&gt;${run.run_id}&lt;/code&gt;&lt;/td&gt;\n            &lt;td class=\"template-cell\"&gt;${run.template_id}&lt;/td&gt;\n            &lt;td class=\"date-cell\"&gt;${started}&lt;/td&gt;\n            &lt;td class=\"cost-cell\"&gt;${cost}&lt;/td&gt;\n            &lt;td class=\"number-cell\"&gt;${run.entities_created}&lt;/td&gt;\n            &lt;td class=\"number-cell\"&gt;${run.timepoints_created}&lt;/td&gt;\n            &lt;td&gt;&lt;span class=\"status-badge ${statusClass}\"&gt;${run.status}&lt;/span&gt;&lt;/td&gt;\n          &lt;/tr&gt;`;\n        }).join('')}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n\n&lt;style&gt;\n  .table-container {\n    overflow-x: auto;\n    margin-top: 1rem;\n    border: 1px solid #dee2e6;\n    border-radius: 0.5rem;\n    background: white;\n  }\n\n  .runs-table {\n    width: 100%;\n    border-collapse: collapse;\n    background: white;\n  }\n\n  .runs-table th {\n    background: #2c3e50;\n    color: #ffffff !important;\n    padding: 1rem 0.75rem;\n    text-align: left;\n    font-weight: 600;\n    font-size: 0.875rem;\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    position: sticky;\n    top: 0;\n    z-index: 10;\n  }\n\n  .runs-table td {\n    padding: 0.75rem;\n    border-bottom: 1px solid #dee2e6;\n    color: #212529;\n    background: white;\n    font-size: 0.875rem;\n  }\n\n  .run-row:hover td {\n    background: #f8f9fa;\n  }\n\n  .run-id {\n    font-family: 'Courier New', monospace;\n    font-size: 0.75rem;\n    color: #495057;\n    background: #f8f9fa;\n    padding: 0.25rem 0.5rem;\n    border-radius: 0.25rem;\n    display: inline-block;\n    max-width: 200px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .template-cell {\n    font-weight: 500;\n    color: #2c3e50;\n  }\n\n  .date-cell {\n    color: #6c757d;\n    font-size: 0.8125rem;\n    white-space: nowrap;\n  }\n\n  .cost-cell {\n    font-weight: 600;\n    color: #28a745;\n  }\n\n  .number-cell {\n    text-align: center;\n    font-weight: 500;\n    color: #495057;\n  }\n\n  .data-cell {\n    text-align: center;\n    width: 50px;\n  }\n\n  .data-complete {\n    display: inline-block;\n    font-size: 1.25rem;\n    color: #28a745;\n    font-weight: bold;\n  }\n\n  .data-incomplete {\n    display: inline-block;\n    font-size: 1.25rem;\n    color: #6c757d;\n    opacity: 0.5;\n  }\n\n  .status-badge {\n    display: inline-block;\n    padding: 0.25rem 0.75rem;\n    border-radius: 1rem;\n    font-weight: 600;\n    font-size: 0.75rem;\n    text-transform: uppercase;\n  }\n\n  .status-completed {\n    background: #d4edda;\n    color: #155724;\n  }\n\n  .status-failed {\n    background: #f8d7da;\n    color: #721c24;\n  }\n\n  .status-running {\n    background: #fff3cd;\n    color: #856404;\n  }\n\n  @media (max-width: 768px) {\n    .runs-table th,\n    .runs-table td {\n      padding: 0.5rem;\n      font-size: 0.75rem;\n    }\n\n    .run-id {\n      max-width: 150px;\n    }\n  }\n&lt;/style&gt;\n`"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html",
    "href": "ACCESS_DASHBOARD.html",
    "title": "",
    "section": "",
    "text": "Code"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#all-issues-fixed",
    "href": "ACCESS_DASHBOARD.html#all-issues-fixed",
    "title": "",
    "section": "‚úÖ All Issues Fixed",
    "text": "‚úÖ All Issues Fixed\n\n‚úÖ Observable JS file:// URL issue - Using web server (Quarto preview)\n‚úÖ Real data loaded - Run with 23 timepoints and 6 characters\n‚úÖ Timeline mapping fixed - Mapped ‚Äòtimeline‚Äô to ‚Äòtimepoints‚Äô\n‚úÖ Server running - Quarto preview on port 8888"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#access-the-dashboard",
    "href": "ACCESS_DASHBOARD.html#access-the-dashboard",
    "title": "",
    "section": "üåê Access the Dashboard",
    "text": "üåê Access the Dashboard\nOpen this URL in your browser:\nhttp://localhost:8888/\nOr specifically for the main dashboard:\nhttp://localhost:8888/index.html"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#what-youll-see",
    "href": "ACCESS_DASHBOARD.html#what-youll-see",
    "title": "",
    "section": "üìä What You‚Äôll See",
    "text": "üìä What You‚Äôll See\n\nCurrent Data Loaded\n\nRun ID: run_20251102_134859_a38592ed\nTemplate: portal_timepoint_series_a_success_simjudged\nCost: $0.275\nCharacters: 6 entities\nTimepoints: 23 timeline events\nMechanisms: 8 mechanisms used (M1, M1+M17, M10, M11, M12, M14, M17, M2)\n\n\n\nInteractive Features Working\n\nRun Selector - Dropdown with 14 recent runs\nMetadata Panel - Run details, cost, timestamps\nStats Cards - Entity/timepoint counts with hover effects\nExecutive Summary - Full narrative overview\nTimeline Visualization - 23 timepoints on interactive vis-timeline\nNetwork Graph - 6 entities with Cytoscape.js\nMetrics Radar - 8 mechanisms on ECharts radar chart\nTab Navigation - Switch between Timeline/Network/Metrics/Screenplay"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#refresh-data",
    "href": "ACCESS_DASHBOARD.html#refresh-data",
    "title": "",
    "section": "üîÑ Refresh Data",
    "text": "üîÑ Refresh Data\nTo update with latest simulation runs:\ncd /Users/seanmcdonald/Documents/GitHub/timepoint-daedalus/dashboards\npython3.10 load_data.py\nThe browser will auto-refresh (Quarto watches for file changes)."
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#stop-the-server",
    "href": "ACCESS_DASHBOARD.html#stop-the-server",
    "title": "",
    "section": "üõë Stop the Server",
    "text": "üõë Stop the Server\nWhen you‚Äôre done:\n# Find the process\nps aux | grep \"quarto preview\"\n\n# Kill it\nkill &lt;PID&gt;\nOr just close the terminal."
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#restart-the-server",
    "href": "ACCESS_DASHBOARD.html#restart-the-server",
    "title": "",
    "section": "üöÄ Restart the Server",
    "text": "üöÄ Restart the Server\ncd /Users/seanmcdonald/Documents/GitHub/timepoint-daedalus/dashboards\nquarto preview --port 8888"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#what-youll-experience",
    "href": "ACCESS_DASHBOARD.html#what-youll-experience",
    "title": "",
    "section": "üé® What You‚Äôll Experience",
    "text": "üé® What You‚Äôll Experience\n\nBeautiful UI\n\nDark theme with purple/cyan gradients\nGlassmorphism cards with blur effects\nSmooth hover animations\nResponsive layout\n\n\n\nInteractive Visualizations\n\nTimeline: Drag to pan, scroll to zoom, click timepoints for details\nNetwork: Drag nodes, zoom, see entity relationships\nMetrics: Hover over radar chart for exact counts\n\n\n\nReal Data\n\nAll data loaded from metadata/runs.db\nNarrative from datasets/portal_timepoint_series_a_success_simjudged/\nMechanism usage from mechanism_usage table"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#pro-tips",
    "href": "ACCESS_DASHBOARD.html#pro-tips",
    "title": "",
    "section": "üí° Pro Tips",
    "text": "üí° Pro Tips\n\nRun Selector: Click dropdown to switch between 14 recent runs\nTimeline Tab: Shows 23 timepoints chronologically\nNetwork Tab: Shows 6 entities and their relationships\nMetrics Tab: Radar chart showing 8 mechanisms used\nAuto-Refresh: Edit files and browser refreshes automatically"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#troubleshooting",
    "href": "ACCESS_DASHBOARD.html#troubleshooting",
    "title": "",
    "section": "üîß Troubleshooting",
    "text": "üîß Troubleshooting\nDashboard not loading? - Check server is running: ps aux | grep \"quarto preview\" - Check port 8888 is free: lsof -i :8888 - Restart server: quarto preview --port 8888\nNo visualizations? - Open browser console (F12) for errors - Check data loaded: Look for ‚ÄúdashboardData‚Äù in console - Verify file: ls -lh dashboard_data.json (should be ~550KB)\nCode showing instead of UI? - This happens with file:// URLs - Solution: Use http://localhost:8888/ (web server)"
  },
  {
    "objectID": "ACCESS_DASHBOARD.html#current-dashboard-status",
    "href": "ACCESS_DASHBOARD.html#current-dashboard-status",
    "title": "",
    "section": "‚ú® Current Dashboard Status",
    "text": "‚ú® Current Dashboard Status\nServer: üü¢ Running on http://localhost:8888/\nData: üü¢ Loaded (23 timepoints, 6 characters, 8 mechanisms)\nVisualizations: üü¢ All rendering (Timeline, Network, Metrics)\nInteractive: üü¢ Run selector, tab navigation, tooltips\n\nGo to: http://localhost:8888/\nEnjoy your interactive Timepoint dashboard! üéâ"
  },
  {
    "objectID": "screenplay.html",
    "href": "screenplay.html",
    "title": "Screenplay Viewer",
    "section": "",
    "text": "Navigation\n\n\n\n‚Üê Dashboard | Browse Runs\nCode\nAPI_BASE = \"http://localhost:8000\"\n\n// Get run_id from URL parameter\nurlParams = new URLSearchParams(window.location.search)\nrunId = urlParams.get('run_id')\n\n// Fetch screenplay data\nscreenplayData = runId ? (async () =&gt; {\n  try {\n    const response = await fetch(`${API_BASE}/api/screenplay/${runId}`);\n    if (!response.ok) throw new Error('Screenplay not found');\n    return await response.text();\n  } catch (error) {\n    console.error('Error fetching screenplay:', error);\n    return null;\n  }\n})() : null\n\nscreenplay = await screenplayData"
  },
  {
    "objectID": "screenplay.html#screenplay-runid-not-selected",
    "href": "screenplay.html#screenplay-runid-not-selected",
    "title": "Screenplay Viewer",
    "section": "Screenplay: ",
    "text": "Screenplay: \n\n\nCode\nparsed = screenplay ? fountain.parse(screenplay) : null\n\n// Extract scenes\nscenes = parsed ? parsed.tokens.filter(t =&gt; t.type === 'scene_heading') : []\n\n// Extract characters\ncharacters = parsed ? [...new Set(\n  parsed.tokens\n    .filter(t =&gt; t.type === 'character')\n    .map(t =&gt; t.text.trim())\n)] : []\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nNavigation\n\n\nCode\nviewof selectedScene = scenes.length &gt; 0 ? Inputs.select(\n  ['All Scenes'].concat(scenes.map((s, i) =&gt; `Scene ${i + 1}: ${s.text}`)),\n  {label: \"Jump to Scene\", value: \"All Scenes\"}\n) : html`&lt;p class=\"text-muted\"&gt;No scenes available&lt;/p&gt;`\n\nviewof characterFilter = characters.length &gt; 0 ? Inputs.select(\n  ['All Characters'].concat(characters),\n  {label: \"Filter by Character\", value: \"All Characters\"}\n) : html`&lt;p class=\"text-muted\"&gt;No characters available&lt;/p&gt;`\n\nviewof searchText = Inputs.text({\n  label: \"Search Dialog\",\n  placeholder: \"Search text...\"\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStatistics:\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 0.75rem; border-radius: 0.5rem; margin-top: 1rem;\"&gt;\n  &lt;div style=\"margin-bottom: 0.5rem;\"&gt;\n    &lt;strong&gt;Scenes:&lt;/strong&gt; ${scenes.length}\n  &lt;/div&gt;\n  &lt;div style=\"margin-bottom: 0.5rem;\"&gt;\n    &lt;strong&gt;Characters:&lt;/strong&gt; ${characters.length}\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;strong&gt;Lines:&lt;/strong&gt; ${parsed ? parsed.tokens.filter(t =&gt; t.type === 'dialogue').length : 0}\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nscreenplayView = {\n  if (!screenplay) {\n    return html`&lt;div class=\"alert alert-info\"&gt;No screenplay available for this run.&lt;/div&gt;`;\n  }\n\n  // Filter tokens based on selections\n  let filteredTokens = parsed.tokens;\n\n  // Filter by character\n  if (characterFilter !== 'All Characters') {\n    let inMatchingScene = false;\n    filteredTokens = filteredTokens.filter(token =&gt; {\n      if (token.type === 'scene_heading') {\n        // Check if any dialogue in this scene matches the character\n        const sceneIndex = parsed.tokens.indexOf(token);\n        const nextSceneIndex = parsed.tokens.findIndex((t, i) =&gt;\n          i &gt; sceneIndex && t.type === 'scene_heading'\n        );\n        const sceneEnd = nextSceneIndex === -1 ? parsed.tokens.length : nextSceneIndex;\n        const sceneTokens = parsed.tokens.slice(sceneIndex, sceneEnd);\n        inMatchingScene = sceneTokens.some(t =&gt;\n          t.type === 'character' && t.text.trim() === characterFilter\n        );\n        return inMatchingScene;\n      }\n      if (token.type === 'character' && token.text.trim() === characterFilter) {\n        return true;\n      }\n      if (inMatchingScene && (token.type === 'dialogue' || token.type === 'parenthetical' || token.type === 'action')) {\n        return true;\n      }\n      return false;\n    });\n  }\n\n  // Filter by scene\n  if (selectedScene !== 'All Scenes') {\n    const sceneNum = parseInt(selectedScene.match(/Scene (\\d+)/)[1]) - 1;\n    const sceneToken = scenes[sceneNum];\n    const sceneIndex = parsed.tokens.indexOf(sceneToken);\n    const nextSceneIndex = parsed.tokens.findIndex((t, i) =&gt;\n      i &gt; sceneIndex && t.type === 'scene_heading'\n    );\n    const sceneEnd = nextSceneIndex === -1 ? parsed.tokens.length : nextSceneIndex;\n    filteredTokens = parsed.tokens.slice(sceneIndex, sceneEnd);\n  }\n\n  // Filter by search text\n  if (searchText) {\n    const searchLower = searchText.toLowerCase();\n    let inMatchingSection = false;\n    let lastMatchIndex = -1;\n\n    filteredTokens = filteredTokens.filter((token, index) =&gt; {\n      if (token.type === 'scene_heading') {\n        inMatchingSection = false;\n        return true; // Always show scene headings\n      }\n\n      if (token.text && token.text.toLowerCase().includes(searchLower)) {\n        inMatchingSection = true;\n        lastMatchIndex = index;\n        return true;\n      }\n\n      // Show context around matches (3 tokens before and after)\n      if (inMatchingSection && index &lt;= lastMatchIndex + 3) {\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  // Render screenplay\n  const container = html`&lt;div class=\"screenplay-container\"&gt;&lt;/div&gt;`;\n\n  const renderToken = (token) =&gt; {\n    switch (token.type) {\n      case 'scene_heading':\n        return `&lt;h3 class=\"scene-heading\"&gt;${token.text}&lt;/h3&gt;`;\n      case 'action':\n        return `&lt;p class=\"action\"&gt;${token.text}&lt;/p&gt;`;\n      case 'character':\n        return `&lt;p class=\"character\"&gt;${token.text}&lt;/p&gt;`;\n      case 'dialogue':\n        return `&lt;p class=\"dialogue\"&gt;${token.text}&lt;/p&gt;`;\n      case 'parenthetical':\n        return `&lt;p class=\"parenthetical\"&gt;${token.text}&lt;/p&gt;`;\n      case 'transition':\n        return `&lt;p class=\"transition\"&gt;${token.text}&lt;/p&gt;`;\n      default:\n        return `&lt;p&gt;${token.text || ''}&lt;/p&gt;`;\n    }\n  };\n\n  container.innerHTML = `\n    &lt;style&gt;\n      .screenplay-container {\n        font-family: 'Courier New', Courier, monospace;\n        max-width: 800px;\n        margin: 0 auto;\n        padding: 2rem;\n        background: white;\n        border: 1px solid #dee2e6;\n        border-radius: 0.5rem;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      }\n\n      .scene-heading {\n        font-weight: bold;\n        text-transform: uppercase;\n        margin: 2rem 0 1rem 0;\n        border-bottom: 2px solid #333;\n        padding-bottom: 0.5rem;\n      }\n\n      .action {\n        margin: 1rem 0;\n        line-height: 1.5;\n      }\n\n      .character {\n        margin: 1.5rem 0 0.25rem 40%;\n        font-weight: bold;\n      }\n\n      .dialogue {\n        margin: 0.25rem 0 0.25rem 25%;\n        max-width: 50%;\n        line-height: 1.4;\n      }\n\n      .parenthetical {\n        margin: 0.25rem 0 0.25rem 30%;\n        font-style: italic;\n      }\n\n      .transition {\n        text-align: right;\n        font-weight: bold;\n        margin: 1.5rem 0;\n      }\n    &lt;/style&gt;\n    ${filteredTokens.map(renderToken).join('\\n')}\n  `;\n\n  return container;\n}"
  },
  {
    "objectID": "screenplay.html#download",
    "href": "screenplay.html#download",
    "title": "Screenplay Viewer",
    "section": "Download",
    "text": "Download\n\n\nCode\ndownloadButton = screenplay ? html`\n  &lt;button\n    onclick=\"${() =&gt; {\n      const blob = new Blob([screenplay], { type: 'text/plain' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `screenplay_${runId}.fountain`;\n      a.click();\n      URL.revokeObjectURL(url);\n    }}\"\n    style=\"\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      border: none;\n      padding: 0.75rem 1.5rem;\n      border-radius: 0.5rem;\n      cursor: pointer;\n      font-weight: 600;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    \"\n  &gt;\n    ‚¨á Download Fountain Script\n  &lt;/button&gt;\n` : ''"
  },
  {
    "objectID": "dialogs.html",
    "href": "dialogs.html",
    "title": "Dialog Navigator",
    "section": "",
    "text": "Navigation\n\n\n\n‚Üê Dashboard | Browse Runs\nCode\nAPI_BASE = \"http://localhost:8000\"\n\n// Get run_id from URL parameter\nurlParams = new URLSearchParams(window.location.search)\nrunId = urlParams.get('run_id')\n\n// Fetch dialogs data\ndialogData = runId ? (async () =&gt; {\n  try {\n    const response = await fetch(`${API_BASE}/api/dialogs/${runId}`);\n    if (!response.ok) throw new Error('Dialogs not found');\n    return await response.json();\n  } catch (error) {\n    console.error('Error fetching dialogs:', error);\n    return null;\n  }\n})() : null\n\ndialogResponse = await dialogData\ndialogs = dialogResponse?.dialogs || []"
  },
  {
    "objectID": "dialogs.html#dialogs-runid-not-selected",
    "href": "dialogs.html#dialogs-runid-not-selected",
    "title": "Dialog Navigator",
    "section": "Dialogs: ",
    "text": "Dialogs: \nTotal Dialogs: \n\n\nCode\ncharacters = [...new Set(dialogs.map(d =&gt; d.speaker).filter(Boolean))]\n\n// Extract unique timepoints\ntimepoints = [...new Set(dialogs.map(d =&gt; d.timepoint_id).filter(Boolean))]\n\n// Extract unique locations\nlocations = [...new Set(dialogs.map(d =&gt; d.location).filter(Boolean))]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFilters\n\n\nCode\nviewof characterFilter = characters.length &gt; 0 ? Inputs.select(\n  ['All Characters'].concat(characters.sort()),\n  {label: \"Character\", value: \"All Characters\"}\n) : html`&lt;p class=\"text-muted\"&gt;No characters available&lt;/p&gt;`\n\nviewof timepointFilter = timepoints.length &gt; 0 ? Inputs.select(\n  ['All Timepoints'].concat(timepoints.sort()),\n  {label: \"Timepoint\", value: \"All Timepoints\"}\n) : html`&lt;p class=\"text-muted\"&gt;No timepoints available&lt;/p&gt;`\n\nviewof locationFilter = locations.length &gt; 0 ? Inputs.select(\n  ['All Locations'].concat(locations.sort()),\n  {label: \"Location\", value: \"All Locations\"}\n) : html`&lt;p class=\"text-muted\"&gt;No locations available&lt;/p&gt;`\n\nviewof searchQuery = Inputs.text({\n  label: \"Search Text\",\n  placeholder: \"Search dialog content...\"\n})\n\nviewof sortOrder = Inputs.select(\n  [\"Chronological\", \"By Character\", \"By Location\"],\n  {label: \"Sort By\", value: \"Chronological\"}\n)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStatistics:\n\n\nCode\nhtml`\n&lt;div style=\"background: #f8f9fa; padding: 0.75rem; border-radius: 0.5rem; margin-top: 1rem;\"&gt;\n  &lt;div style=\"margin-bottom: 0.5rem;\"&gt;\n    &lt;strong&gt;Characters:&lt;/strong&gt; ${characters.length}\n  &lt;/div&gt;\n  &lt;div style=\"margin-bottom: 0.5rem;\"&gt;\n    &lt;strong&gt;Timepoints:&lt;/strong&gt; ${timepoints.length}\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;strong&gt;Locations:&lt;/strong&gt; ${locations.length}\n  &lt;/div&gt;\n&lt;/div&gt;\n`\n\n\n\n\n\n\n\n\n\n\n\nCode\nfilteredDialogs = {\n  let filtered = dialogs;\n\n  // Filter by character\n  if (characterFilter !== 'All Characters') {\n    filtered = filtered.filter(d =&gt; d.speaker === characterFilter);\n  }\n\n  // Filter by timepoint\n  if (timepointFilter !== 'All Timepoints') {\n    filtered = filtered.filter(d =&gt; d.timepoint_id === timepointFilter);\n  }\n\n  // Filter by location\n  if (locationFilter !== 'All Locations') {\n    filtered = filtered.filter(d =&gt; d.location === locationFilter);\n  }\n\n  // Filter by search query\n  if (searchQuery) {\n    const searchLower = searchQuery.toLowerCase();\n    filtered = filtered.filter(d =&gt;\n      (d.dialog && d.dialog.toLowerCase().includes(searchLower)) ||\n      (d.speaker && d.speaker.toLowerCase().includes(searchLower)) ||\n      (d.context && d.context.toLowerCase().includes(searchLower))\n    );\n  }\n\n  // Sort\n  if (sortOrder === \"By Character\") {\n    filtered = filtered.sort((a, b) =&gt; (a.speaker || '').localeCompare(b.speaker || ''));\n  } else if (sortOrder === \"By Location\") {\n    filtered = filtered.sort((a, b) =&gt; (a.location || '').localeCompare(b.location || ''));\n  } else {\n    // Chronological (by index or timepoint)\n    filtered = filtered.sort((a, b) =&gt; {\n      const aTime = a.timepoint_id || '';\n      const bTime = b.timepoint_id || '';\n      return aTime.localeCompare(bTime);\n    });\n  }\n\n  return filtered;\n}\n\ndialogsView = {\n  if (dialogs.length === 0) {\n    return html`&lt;div class=\"alert alert-info\"&gt;No dialogs available for this run.&lt;/div&gt;`;\n  }\n\n  return html`\n    &lt;div style=\"margin-bottom: 1rem;\"&gt;\n      &lt;strong&gt;Showing ${filteredDialogs.length} of ${dialogs.length} dialogs&lt;/strong&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"dialogs-container\"&gt;\n      ${filteredDialogs.map((dialog, idx) =&gt; html`\n        &lt;div class=\"dialog-card\" id=\"dialog-${idx}\"&gt;\n          &lt;div class=\"dialog-header\"&gt;\n            &lt;div class=\"dialog-meta\"&gt;\n              &lt;span class=\"character-badge\"&gt;${dialog.speaker || 'Unknown'}&lt;/span&gt;\n              ${dialog.timepoint_id ? html`&lt;span class=\"timepoint-badge\"&gt;${dialog.timepoint_id}&lt;/span&gt;` : ''}\n              ${dialog.location ? html`&lt;span class=\"location-badge\"&gt;üìç ${dialog.location}&lt;/span&gt;` : ''}\n            &lt;/div&gt;\n            ${dialog.timestamp ? html`&lt;div class=\"dialog-timestamp\"&gt;&lt;small&gt;${dialog.timestamp}&lt;/small&gt;&lt;/div&gt;` : ''}\n          &lt;/div&gt;\n\n          &lt;div class=\"dialog-content\"&gt;\n            ${dialog.dialog || 'No dialog text'}\n          &lt;/div&gt;\n\n          ${dialog.context ? html`\n            &lt;div class=\"dialog-context\"&gt;\n              &lt;strong&gt;Context:&lt;/strong&gt; ${dialog.context}\n            &lt;/div&gt;\n          ` : ''}\n\n          ${dialog.emotional_state ? html`\n            &lt;div class=\"dialog-emotion\"&gt;\n              &lt;strong&gt;Emotion:&lt;/strong&gt; ${dialog.emotional_state}\n            &lt;/div&gt;\n          ` : ''}\n        &lt;/div&gt;\n      `).join('')}\n    &lt;/div&gt;\n\n    &lt;style&gt;\n      .dialogs-container {\n        display: flex;\n        flex-direction: column;\n        gap: 1rem;\n      }\n\n      .dialog-card {\n        background: white;\n        border: 1px solid #dee2e6;\n        border-radius: 0.5rem;\n        padding: 1rem;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.05);\n        transition: box-shadow 0.2s;\n      }\n\n      .dialog-card:hover {\n        box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n      }\n\n      .dialog-header {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-bottom: 0.75rem;\n        padding-bottom: 0.75rem;\n        border-bottom: 1px solid #f0f0f0;\n      }\n\n      .dialog-meta {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 0.5rem;\n      }\n\n      .character-badge {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 0.25rem 0.75rem;\n        border-radius: 1rem;\n        font-weight: 600;\n        font-size: 0.875rem;\n      }\n\n      .timepoint-badge {\n        background: #e3f2fd;\n        color: #1976d2;\n        padding: 0.25rem 0.75rem;\n        border-radius: 1rem;\n        font-weight: 600;\n        font-size: 0.875rem;\n        border: 1px solid #1976d2;\n      }\n\n      .location-badge {\n        background: #f3e5f5;\n        color: #7b1fa2;\n        padding: 0.25rem 0.75rem;\n        border-radius: 1rem;\n        font-size: 0.875rem;\n        border: 1px solid #7b1fa2;\n      }\n\n      .dialog-timestamp {\n        color: #6c757d;\n      }\n\n      .dialog-content {\n        font-size: 1rem;\n        line-height: 1.6;\n        color: #212529;\n        margin-bottom: 0.5rem;\n      }\n\n      .dialog-context {\n        background: #f8f9fa;\n        padding: 0.5rem;\n        border-radius: 0.25rem;\n        font-size: 0.875rem;\n        color: #495057;\n        margin-top: 0.5rem;\n      }\n\n      .dialog-emotion {\n        background: #fff3cd;\n        padding: 0.5rem;\n        border-radius: 0.25rem;\n        font-size: 0.875rem;\n        color: #856404;\n        margin-top: 0.5rem;\n      }\n    &lt;/style&gt;\n  `;\n}"
  },
  {
    "objectID": "dialogs.html#timeline-view",
    "href": "dialogs.html#timeline-view",
    "title": "Dialog Navigator",
    "section": "Timeline View",
    "text": "Timeline View\n\n\nCode\ntimelineView = {\n  if (dialogs.length === 0) {\n    return html`&lt;div class=\"alert alert-info\"&gt;No data for timeline view.&lt;/div&gt;`;\n  }\n\n  // Group dialogs by timepoint\n  const byTimepoint = {};\n  filteredDialogs.forEach(d =&gt; {\n    const tp = d.timepoint_id || 'Unknown';\n    if (!byTimepoint[tp]) byTimepoint[tp] = [];\n    byTimepoint[tp].push(d);\n  });\n\n  const timepoints = Object.keys(byTimepoint).sort();\n\n  if (timepoints.length === 0) {\n    return html`&lt;div class=\"alert alert-info\"&gt;No timepoint data available.&lt;/div&gt;`;\n  }\n\n  return html`\n    &lt;div class=\"timeline-container\"&gt;\n      ${timepoints.map(tp =&gt; html`\n        &lt;div class=\"timeline-section\"&gt;\n          &lt;h4 class=\"timeline-heading\"&gt;${tp}&lt;/h4&gt;\n          &lt;div class=\"timeline-count\"&gt;${byTimepoint[tp].length} dialog(s)&lt;/div&gt;\n          &lt;div class=\"timeline-speakers\"&gt;\n            ${[...new Set(byTimepoint[tp].map(d =&gt; d.speaker))].join(', ')}\n          &lt;/div&gt;\n        &lt;/div&gt;\n      `).join('')}\n    &lt;/div&gt;\n\n    &lt;style&gt;\n      .timeline-container {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 1rem;\n        margin-top: 1rem;\n      }\n\n      .timeline-section {\n        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        color: white;\n        padding: 1rem;\n        border-radius: 0.5rem;\n        flex: 1;\n        min-width: 200px;\n        box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n      }\n\n      .timeline-heading {\n        font-size: 1.25rem;\n        font-weight: bold;\n        margin-bottom: 0.5rem;\n      }\n\n      .timeline-count {\n        font-size: 0.875rem;\n        opacity: 0.9;\n        margin-bottom: 0.25rem;\n      }\n\n      .timeline-speakers {\n        font-size: 0.875rem;\n        opacity: 0.85;\n        font-style: italic;\n      }\n    &lt;/style&gt;\n  `;\n}"
  },
  {
    "objectID": "dialogs.html#export",
    "href": "dialogs.html#export",
    "title": "Dialog Navigator",
    "section": "Export",
    "text": "Export\n\n\nCode\nexportButton = dialogs.length &gt; 0 ? html`\n  &lt;button\n    onclick=\"${() =&gt; {\n      const csv = [\n        ['Speaker', 'Timepoint', 'Location', 'Dialog', 'Context', 'Emotion'].join(','),\n        ...filteredDialogs.map(d =&gt; [\n          d.speaker || '',\n          d.timepoint_id || '',\n          d.location || '',\n          `\"${(d.dialog || '').replace(/\"/g, '\"\"')}\"`,\n          `\"${(d.context || '').replace(/\"/g, '\"\"')}\"`,\n          d.emotional_state || ''\n        ].join(','))\n      ].join('\\n');\n\n      const blob = new Blob([csv], { type: 'text/csv' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `dialogs_${runId}.csv`;\n      a.click();\n      URL.revokeObjectURL(url);\n    }}\"\n    style=\"\n      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n      color: white;\n      border: none;\n      padding: 0.75rem 1.5rem;\n      border-radius: 0.5rem;\n      cursor: pointer;\n      font-weight: 600;\n      box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n    \"\n  &gt;\n    ‚¨á Export to CSV (${filteredDialogs.length} dialogs)\n  &lt;/button&gt;\n` : ''"
  },
  {
    "objectID": "DASHBOARD_README.html",
    "href": "DASHBOARD_README.html",
    "title": "",
    "section": "",
    "text": "Code"
  },
  {
    "objectID": "DASHBOARD_README.html#architecture",
    "href": "DASHBOARD_README.html#architecture",
    "title": "",
    "section": "Architecture",
    "text": "Architecture\nThe system consists of two main components:\n\n1. FastAPI Backend (api/)\nREST API server providing real-time access to the runs database.\nKey Files: - server.py - FastAPI application with 8 REST endpoints - db.py - Database query layer with filtering, sorting, and pagination - models.py - Pydantic models for request/response validation - requirements.txt - Python dependencies\nEndpoints: - GET /api/runs - List runs with comprehensive filtering - GET /api/run/{run_id} - Get detailed run information - GET /api/narrative/{run_id} - Get narrative JSON - GET /api/screenplay/{run_id} - Get Fountain screenplay - GET /api/dialogs/{run_id} - Get all dialogs - GET /api/templates - List all unique templates - GET /api/mechanisms - Get mechanism usage counts - GET /api/meta-analytics - Aggregate analytics across all runs\n\n\n2. Quarto Frontend\nInteractive web interface built with Quarto + Observable JS.\nPages: - index.qmd - Main dashboard with visualizations (timeline, network, metrics) - runs.qmd - Run selection with filtering and search - analytics.qmd - Meta-analytics with charts and statistics - screenplay.qmd - Fountain screenplay viewer with navigation - dialogs.qmd - Dialog navigator with filtering and export"
  },
  {
    "objectID": "DASHBOARD_README.html#installation-setup",
    "href": "DASHBOARD_README.html#installation-setup",
    "title": "",
    "section": "Installation & Setup",
    "text": "Installation & Setup\n\n1. Install API Dependencies\ncd dashboards/api\npip install -r requirements.txt\n\n\n2. Install Quarto\nDownload and install Quarto from https://quarto.org/docs/get-started/\nOr use Homebrew:\nbrew install quarto\n\n\n3. Launch Dashboard (Recommended)\nUse the provided management scripts:\nOption A: Launch Both Servers Together\ncd dashboards\n./dashboard.sh\nThis starts both backend and frontend, and stops both when you press Ctrl+C.\nOption B: Launch Separately\nFrontend only:\ncd dashboards\n./frontend.sh\nBackend only:\ncd dashboards\n./backend.sh\n\n\n4. Manual Launch (Alternative)\nStart API Server:\ncd dashboards/api\npython3.10 server.py\nThe API will be available at http://localhost:8000 API documentation at http://localhost:8000/docs\nStart Quarto Preview Server:\ncd dashboards\nquarto preview --port 8888\nThe dashboard will be available at http://localhost:8888"
  },
  {
    "objectID": "DASHBOARD_README.html#management-scripts",
    "href": "DASHBOARD_README.html#management-scripts",
    "title": "",
    "section": "Management Scripts",
    "text": "Management Scripts\nThree bash scripts are provided for easy server management:\n\ndashboard.sh - Launch Full System\nStarts both backend API and frontend Quarto server together. Automatically handles: - Killing existing processes on both ports - Starting backend in background - Validating backend is running - Starting frontend in foreground - Clean shutdown of both servers on Ctrl+C\n\n\nfrontend.sh - Frontend Only\nManages Quarto preview server: - Kills any existing Quarto processes - Starts Quarto on port 8888 - Shows helpful URLs\n\n\nbackend.sh - Backend Only\nManages FastAPI server: - Kills any existing API server processes - Starts server on port 8000 - Shows API documentation URL"
  },
  {
    "objectID": "DASHBOARD_README.html#usage",
    "href": "DASHBOARD_README.html#usage",
    "title": "",
    "section": "Usage",
    "text": "Usage\n\nBrowsing Runs\n\nNavigate to Browse Runs (http://localhost:8888/runs.html)\nUse filters to narrow down results:\n\nTemplate - Filter by template ID\nStatus - completed, running, or failed\nCausal Mode - STANDARD, PORTAL, etc.\nDate Range - Filter by start date\nCost Range - Min/max cost filters\nEntities/Timepoints - Minimum thresholds\nMechanisms - Comma-separated list (e.g., M1,M5,M17)\n\nClick any row to view the full dashboard for that run\n\n\n\nViewing Run Details\nThe main dashboard (index.html?run_id=XXX) shows: - Run Metadata - ID, template, status, cost, duration - Simulation Stats - Entities, timepoints, LLM calls, tokens - Mechanisms Used - Visual badges showing which mechanisms were active - Executive Summary - Narrative summary if available - Visualizations: - Timeline view (via vis-timeline) - Network graph (via Cytoscape.js) - Mechanism radar chart (via ECharts) - Detailed Analysis: - Resolution assignments table - Validations table - Mechanism timeline\n\n\nMeta-Analytics\nThe analytics page (analytics.html) provides: - Overview Metrics - Total runs, cost, success rate, avg cost - Run Statistics - Completed, failed, entities, timepoints - Cost Analysis - Cost over time (last 30 days) - Template Performance - Top templates by usage - Causal Mode Distribution - Pie chart - Mechanism Co-Occurrence - Pairs that frequently appear together\n\n\nScreenplay Viewer\nView Fountain-formatted screenplays (screenplay.html?run_id=XXX): - Scene Navigation - Jump to specific scenes - Character Filtering - Show only scenes with specific characters - Dialog Search - Full-text search - Statistics - Scene count, character count, line count - Download - Export to .fountain file\n\n\nDialog Navigator\nBrowse and analyze dialogs (dialogs.html?run_id=XXX): - Filters: - Character - Show dialogs from specific characters - Timepoint - Filter by timepoint - Location - Filter by location - Search - Full-text search - Sorting - Chronological, by character, or by location - Timeline View - Visual representation of dialogs across timepoints - Export - Download filtered dialogs as CSV"
  },
  {
    "objectID": "DASHBOARD_README.html#features",
    "href": "DASHBOARD_README.html#features",
    "title": "",
    "section": "Features",
    "text": "Features\n\nReal-Time Database Access\nAll pages fetch data directly from the API, showing the latest information from the database without manual refresh.\n\n\nComprehensive Filtering\nThe runs browser supports 10+ filter parameters: - Template ID - Status (completed/running/failed) - Date range - Cost range (min/max) - Causal mode - Mechanisms (comma-separated) - Minimum entities - Minimum timepoints\n\n\nSorting & Pagination\n\nSort by: started_at, cost_usd, entities_created, timepoints_created, duration_seconds\nOrder: ASC or DESC\nPagination: 10, 25, 50, or 100 per page\n\n\n\nInteractive Visualizations\n\nTimeline - Chronological navigation of timepoints with vis-timeline\nNetwork Graph - Character relationships with Cytoscape.js\nCharts - Mechanism radar, cost over time, template distribution with ECharts\n\n\n\nExport Capabilities\n\nFountain screenplay download\nDialog CSV export\nFiltered data export"
  },
  {
    "objectID": "DASHBOARD_README.html#database-schema",
    "href": "DASHBOARD_README.html#database-schema",
    "title": "",
    "section": "Database Schema",
    "text": "Database Schema\nThe system queries the following tables:\n\nruns\nCore run metadata including template_id, status, cost, entities/timepoints created, etc.\n\n\nmechanism_usage\nTracks which mechanisms were used in each run with timestamps and context.\n\n\nresolution_assignments\nRecords entity resolution changes (sketch ‚Üí low ‚Üí high).\n\n\nvalidations\nStores validation results for each run.\n\n\nNarrative JSON Files\nLocated in datasets/{template}/narrative_{timestamp}.json Contains characters, timepoints, dialogs, and executive summary.\n\n\nScreenplay Fountain Files\nLocated in datasets/{template}/screenplay_{timestamp}.fountain Fountain-formatted screenplay output."
  },
  {
    "objectID": "DASHBOARD_README.html#api-query-examples",
    "href": "DASHBOARD_README.html#api-query-examples",
    "title": "",
    "section": "API Query Examples",
    "text": "API Query Examples\n# List all runs, paginated\ncurl \"http://localhost:8000/api/runs?page=1&limit=50\"\n\n# Filter by template and status\ncurl \"http://localhost:8000/api/runs?template=hospital_crisis&status=completed\"\n\n# Filter by cost range\ncurl \"http://localhost:8000/api/runs?min_cost=0.1&max_cost=1.0\"\n\n# Filter by mechanisms\ncurl \"http://localhost:8000/api/runs?mechanisms=M1,M5,M17\"\n\n# Get specific run details\ncurl \"http://localhost:8000/api/run/hospital_crisis_20251102_134859_a38592ed\"\n\n# Get narrative\ncurl \"http://localhost:8000/api/narrative/hospital_crisis_20251102_134859_a38592ed\"\n\n# Get screenplay\ncurl \"http://localhost:8000/api/screenplay/hospital_crisis_20251102_134859_a38592ed\"\n\n# Get meta-analytics\ncurl \"http://localhost:8000/api/meta-analytics\""
  },
  {
    "objectID": "DASHBOARD_README.html#technology-stack",
    "href": "DASHBOARD_README.html#technology-stack",
    "title": "",
    "section": "Technology Stack",
    "text": "Technology Stack\n\nBackend\n\nFastAPI - Modern Python web framework\nPydantic - Data validation\nSQLite - Database (via runs.db)\nUvicorn - ASGI server\n\n\n\nFrontend\n\nQuarto - Static site generator with native Observable JS support\nObservable JS - Reactive JavaScript for data visualization\nvis-timeline - Interactive timeline visualization\nCytoscape.js - Network graph visualization\nApache ECharts - Chart library for analytics\nFountain.js - Screenplay parsing and rendering"
  },
  {
    "objectID": "DASHBOARD_README.html#development",
    "href": "DASHBOARD_README.html#development",
    "title": "",
    "section": "Development",
    "text": "Development\n\nAdding New Filters\nTo add a new filter to the runs browser:\n\nAdd filter input in runs.qmd:\nviewof newFilter = Inputs.select(...)\nAdd filter to query params:\nif (newFilter !== \"All\") params.append(\"new_filter\", newFilter);\nAdd filter support in api/db.py:\nif new_filter:\n    where_clauses.append(\"new_column = ?\")\n    params.append(new_filter)\nAdd parameter to api/server.py:\nnew_filter: Optional[str] = Query(None, description=\"...\")\n\n\n\nAdding New Visualizations\n\nAdd chart container in the .qmd file\nInitialize chart library (ECharts, Cytoscape, etc.)\nFetch data from API\nRender visualization\n\n\n\nAdding New API Endpoints\n\nAdd endpoint in api/server.py\nAdd query function in api/db.py\nAdd response model in api/models.py if needed"
  },
  {
    "objectID": "DASHBOARD_README.html#troubleshooting",
    "href": "DASHBOARD_README.html#troubleshooting",
    "title": "",
    "section": "Troubleshooting",
    "text": "Troubleshooting\n\nAPI Not Starting\n\nCheck that port 8000 is available\nVerify database path in api/db.py (default: ../../metadata/runs.db)\nCheck Python version (requires 3.10+)\n\n\n\nQuarto Preview Issues\n\nVerify Quarto is installed: quarto --version\nCheck Python kernel: should use python3.10\nClear cache: quarto clean\n\n\n\nEmpty Visualizations\n\nVerify run has narrative data (check narrative_{timestamp}.json exists)\nCheck API is returning data: curl http://localhost:8000/api/narrative/{run_id}\nLook for browser console errors\n\n\n\nCORS Errors\n\nEnsure API is running on localhost:8000\nCheck CORS middleware configuration in api/server.py"
  },
  {
    "objectID": "DASHBOARD_README.html#statistics-as-of-2025-11-03",
    "href": "DASHBOARD_README.html#statistics-as-of-2025-11-03",
    "title": "",
    "section": "Statistics (as of 2025-11-03)",
    "text": "Statistics (as of 2025-11-03)\n\nTotal Runs: 558\nTotal Cost: $123.67\nCompleted Runs: 454\nSuccess Rate: 81.4%\nTemplates: 64 unique\nMechanisms Tracked: 17\nDatabase Size: ~558 runs with full metadata"
  },
  {
    "objectID": "DASHBOARD_README.html#next-steps",
    "href": "DASHBOARD_README.html#next-steps",
    "title": "",
    "section": "Next Steps",
    "text": "Next Steps\nPotential enhancements: - Add real-time run monitoring (WebSocket support) - Implement run comparison view - Add mechanism dependency graph - Export full reports as PDF - Add user authentication - Implement run replay/visualization - Add cost prediction models - Integrate with CI/CD for automatic testing"
  }
]